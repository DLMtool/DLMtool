<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 27 Custom Parameters | Data-Limited Methods Toolkit (DLMtool 5.3)</title>
  <meta name="description" content="User guide for the DLMtool R package">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 27 Custom Parameters | Data-Limited Methods Toolkit (DLMtool 5.3)" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://dlmtool.github.io/DLMtool/userguide/introduction.html" />
  
  <meta property="og:description" content="User guide for the DLMtool R package" />
  <meta name="github-repo" content="DLMtool/DLMtool" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 27 Custom Parameters | Data-Limited Methods Toolkit (DLMtool 5.3)" />
  
  <meta name="twitter:description" content="User guide for the DLMtool R package" />
  

<meta name="author" content="Tom Carruthers &amp; Adrian Hordyk">


<meta name="date" content="2019-03-12">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="favicon-16x16.png" type="image/x-icon">
<link rel="prev" href="developing-custom-management-procedures.html">
<link rel="next" href="subsetting-the-mse-object.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./introduction.html">DLMtool User Guide</a></li>

<li class="divider"></li>
<li class="part"><span><b>Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#data-limited-methods-toolkit"><i class="fa fa-check"></i><b>1.1</b> Data-Limited Methods Toolkit</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#management-strategy-evaluation"><i class="fa fa-check"></i><b>1.2</b> Management Strategy Evaluation</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#how-does-management-strategy-evaluation-differ-from-stock-assessment"><i class="fa fa-check"></i><b>1.3</b> How does Management Strategy Evaluation Differ from Stock Assessment?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#assumed-knowledge"><i class="fa fa-check"></i><b>1.4</b> Assumed Knowledge</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#the-user-manual"><i class="fa fa-check"></i><b>1.5</b> The User Manual</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#dlmtool-bug-reports"><i class="fa fa-check"></i><b>1.6</b> DLMtool Bug Reports</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#version-notes"><i class="fa fa-check"></i><b>1.7</b> Version Notes</a></li>
</ul></li>
<li class="part"><span><b>Getting Started with DLMtool</b></span></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#required-software"><i class="fa fa-check"></i><b>2.1</b> Required Software</a><ul>
<li class="chapter" data-level="2.1.1" data-path="getting-started.html"><a href="getting-started.html#the-r-software"><i class="fa fa-check"></i><b>2.1.1</b> The R Software</a></li>
<li class="chapter" data-level="2.1.2" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>2.1.2</b> RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#installing-dlmtool"><i class="fa fa-check"></i><b>2.2</b> Installing DLMtool</a><ul>
<li class="chapter" data-level="2.2.1" data-path="getting-started.html"><a href="getting-started.html#installing-dlmtool-using-r-console"><i class="fa fa-check"></i><b>2.2.1</b> Installing DLMtool using R Console</a></li>
<li class="chapter" data-level="2.2.2" data-path="getting-started.html"><a href="getting-started.html#installing-dlmtool-in-rstudio"><i class="fa fa-check"></i><b>2.2.2</b> Installing DLMtool in RStudio</a></li>
<li class="chapter" data-level="2.2.3" data-path="getting-started.html"><a href="getting-started.html#updating-the-dlmtool-package"><i class="fa fa-check"></i><b>2.2.3</b> Updating the DLMtool Package</a></li>
<li class="chapter" data-level="2.2.4" data-path="getting-started.html"><a href="getting-started.html#checking-dlmtool-version"><i class="fa fa-check"></i><b>2.2.4</b> Checking DLMtool version</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="getting-started.html"><a href="getting-started.html#loading-dlmtool"><i class="fa fa-check"></i><b>2.3</b> Loading DLMtool</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="a-very-quick-demo.html"><a href="a-very-quick-demo.html"><i class="fa fa-check"></i><b>3</b> A Very Quick Demo</a></li>
<li class="chapter" data-level="4" data-path="the-operating-model.html"><a href="the-operating-model.html"><i class="fa fa-check"></i><b>4</b> The Operating Model</a><ul>
<li class="chapter" data-level="4.1" data-path="the-operating-model.html"><a href="the-operating-model.html#om-components"><i class="fa fa-check"></i><b>4.1</b> OM Components</a><ul>
<li class="chapter" data-level="4.1.1" data-path="the-operating-model.html"><a href="the-operating-model.html#stock-object"><i class="fa fa-check"></i><b>4.1.1</b> Stock Object</a></li>
<li class="chapter" data-level="4.1.2" data-path="the-operating-model.html"><a href="the-operating-model.html#fleet-object"><i class="fa fa-check"></i><b>4.1.2</b> Fleet Object</a></li>
<li class="chapter" data-level="4.1.3" data-path="the-operating-model.html"><a href="the-operating-model.html#obs-object"><i class="fa fa-check"></i><b>4.1.3</b> Obs Object</a></li>
<li class="chapter" data-level="4.1.4" data-path="the-operating-model.html"><a href="the-operating-model.html#imp-object"><i class="fa fa-check"></i><b>4.1.4</b> Imp Object</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="the-operating-model.html"><a href="the-operating-model.html#plotting-om-components"><i class="fa fa-check"></i><b>4.2</b> Plotting OM Components</a></li>
<li class="chapter" data-level="4.3" data-path="the-operating-model.html"><a href="the-operating-model.html#building-an-om-from-component-objects"><i class="fa fa-check"></i><b>4.3</b> Building an OM from Component Objects</a></li>
<li class="chapter" data-level="4.4" data-path="the-operating-model.html"><a href="the-operating-model.html#visualizing-an-om"><i class="fa fa-check"></i><b>4.4</b> Visualizing an OM</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="management-procedures.html"><a href="management-procedures.html"><i class="fa fa-check"></i><b>5</b> Management Procedures</a><ul>
<li class="chapter" data-level="5.1" data-path="management-procedures.html"><a href="management-procedures.html#what-is-a-management-procedure"><i class="fa fa-check"></i><b>5.1</b> What is a Management Procedure?</a></li>
<li class="chapter" data-level="5.2" data-path="management-procedures.html"><a href="management-procedures.html#available-management-procedures"><i class="fa fa-check"></i><b>5.2</b> Available Management Procedures</a></li>
<li class="chapter" data-level="5.3" data-path="management-procedures.html"><a href="management-procedures.html#types-of-management-procedure"><i class="fa fa-check"></i><b>5.3</b> Types of Management Procedure</a><ul>
<li class="chapter" data-level="5.3.1" data-path="management-procedures.html"><a href="management-procedures.html#input-control-mps"><i class="fa fa-check"></i><b>5.3.1</b> Input Control MPs</a></li>
<li class="chapter" data-level="5.3.2" data-path="management-procedures.html"><a href="management-procedures.html#output-control-mps"><i class="fa fa-check"></i><b>5.3.2</b> Output Control MPs</a></li>
<li class="chapter" data-level="5.3.3" data-path="management-procedures.html"><a href="management-procedures.html#mixed-mps"><i class="fa fa-check"></i><b>5.3.3</b> Mixed MPs</a></li>
<li class="chapter" data-level="5.3.4" data-path="management-procedures.html"><a href="management-procedures.html#reference-mps"><i class="fa fa-check"></i><b>5.3.4</b> Reference MPs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="running-the-mse.html"><a href="running-the-mse.html"><i class="fa fa-check"></i><b>6</b> Running the MSE</a><ul>
<li class="chapter" data-level="6.1" data-path="running-the-mse.html"><a href="running-the-mse.html#specify-an-operating-model"><i class="fa fa-check"></i><b>6.1</b> Specify an Operating Model</a></li>
<li class="chapter" data-level="6.2" data-path="running-the-mse.html"><a href="running-the-mse.html#choose-the-management-procedures"><i class="fa fa-check"></i><b>6.2</b> Choose the Management Procedures</a></li>
<li class="chapter" data-level="6.3" data-path="running-the-mse.html"><a href="running-the-mse.html#run-the-mse"><i class="fa fa-check"></i><b>6.3</b> Run the MSE</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="checking-convergence.html"><a href="checking-convergence.html"><i class="fa fa-check"></i><b>7</b> Checking Convergence</a></li>
<li class="chapter" data-level="8" data-path="examining-the-mse-results.html"><a href="examining-the-mse-results.html"><i class="fa fa-check"></i><b>8</b> Examining the MSE Results</a><ul>
<li class="chapter" data-level="8.1" data-path="examining-the-mse-results.html"><a href="examining-the-mse-results.html#introducing-performance-metrics"><i class="fa fa-check"></i><b>8.1</b> Introducing Performance Metrics</a></li>
<li class="chapter" data-level="8.2" data-path="examining-the-mse-results.html"><a href="examining-the-mse-results.html#summary-table"><i class="fa fa-check"></i><b>8.2</b> Summary Table</a></li>
<li class="chapter" data-level="8.3" data-path="examining-the-mse-results.html"><a href="examining-the-mse-results.html#plotting-mse-results"><i class="fa fa-check"></i><b>8.3</b> Plotting MSE Results</a><ul>
<li class="chapter" data-level="8.3.1" data-path="examining-the-mse-results.html"><a href="examining-the-mse-results.html#trade-off-plots"><i class="fa fa-check"></i><b>8.3.1</b> Trade-Off Plots</a></li>
<li class="chapter" data-level="8.3.2" data-path="examining-the-mse-results.html"><a href="examining-the-mse-results.html#wormplot"><i class="fa fa-check"></i><b>8.3.2</b> Wormplot</a></li>
<li class="chapter" data-level="8.3.3" data-path="examining-the-mse-results.html"><a href="examining-the-mse-results.html#projection-plots"><i class="fa fa-check"></i><b>8.3.3</b> Projection Plots</a></li>
<li class="chapter" data-level="8.3.4" data-path="examining-the-mse-results.html"><a href="examining-the-mse-results.html#kobe-plots"><i class="fa fa-check"></i><b>8.3.4</b> Kobe Plots</a></li>
<li class="chapter" data-level="8.3.5" data-path="examining-the-mse-results.html"><a href="examining-the-mse-results.html#compare-to-current-conditions"><i class="fa fa-check"></i><b>8.3.5</b> Compare to Current Conditions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="parallel-processing.html"><a href="parallel-processing.html"><i class="fa fa-check"></i><b>9</b> Parallel Processing</a><ul>
<li class="chapter" data-level="9.1" data-path="parallel-processing.html"><a href="parallel-processing.html#setting-up-parallel-processing"><i class="fa fa-check"></i><b>9.1</b> Setting up Parallel Processing</a></li>
<li class="chapter" data-level="9.2" data-path="parallel-processing.html"><a href="parallel-processing.html#running-mse-with-parallel-processing"><i class="fa fa-check"></i><b>9.2</b> Running MSE with Parallel Processing</a></li>
<li class="chapter" data-level="9.3" data-path="parallel-processing.html"><a href="parallel-processing.html#determining-optimal-number-of-processors"><i class="fa fa-check"></i><b>9.3</b> Determining Optimal Number of Processors</a></li>
</ul></li>
<li class="part"><span><b>Creating an Operating Model</b></span></li>
<li class="chapter" data-level="10" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html"><i class="fa fa-check"></i><b>10</b> Creating a New Operating Model</a><ul>
<li class="chapter" data-level="10.1" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html#an-example-workflow"><i class="fa fa-check"></i><b>10.1</b> An Example WorkFlow</a></li>
<li class="chapter" data-level="10.2" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html#create-a-new-project"><i class="fa fa-check"></i><b>10.2</b> Create a New Project</a></li>
<li class="chapter" data-level="10.3" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html#initialize-a-new-om"><i class="fa fa-check"></i><b>10.3</b> Initialize a New OM</a><ul>
<li class="chapter" data-level="10.3.1" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html#using-templates"><i class="fa fa-check"></i><b>10.3.1</b> Using Templates</a></li>
<li class="chapter" data-level="10.3.2" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html#an-example"><i class="fa fa-check"></i><b>10.3.2</b> An Example</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html#populate-and-document-om"><i class="fa fa-check"></i><b>10.4</b> Populate and Document OM</a></li>
<li class="chapter" data-level="10.5" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html#compile-the-om-report"><i class="fa fa-check"></i><b>10.5</b> Compile the OM Report</a></li>
<li class="chapter" data-level="10.6" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html#import-the-om-into-r"><i class="fa fa-check"></i><b>10.6</b> Import the OM into R</a></li>
<li class="chapter" data-level="10.7" data-path="creating-a-new-operating-model.html"><a href="creating-a-new-operating-model.html#documenting-an-existing-om"><i class="fa fa-check"></i><b>10.7</b> Documenting an Existing OM</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="generating-correlated-life-history-parameters.html"><a href="generating-correlated-life-history-parameters.html"><i class="fa fa-check"></i><b>11</b> Generating Correlated Life-History Parameters</a><ul>
<li class="chapter" data-level="11.1" data-path="generating-correlated-life-history-parameters.html"><a href="generating-correlated-life-history-parameters.html#predicting-all-life-history-parameters"><i class="fa fa-check"></i><b>11.1</b> Predicting all life-history parameters</a></li>
<li class="chapter" data-level="11.2" data-path="generating-correlated-life-history-parameters.html"><a href="generating-correlated-life-history-parameters.html#predicting-some-life-history-parameters"><i class="fa fa-check"></i><b>11.2</b> Predicting some life-history parameters</a></li>
<li class="chapter" data-level="11.3" data-path="generating-correlated-life-history-parameters.html"><a href="generating-correlated-life-history-parameters.html#predicting-correlated-parameters"><i class="fa fa-check"></i><b>11.3</b> Predicting correlated parameters</a></li>
<li class="chapter" data-level="11.4" data-path="generating-correlated-life-history-parameters.html"><a href="generating-correlated-life-history-parameters.html#introducing-custom-parameters"><i class="fa fa-check"></i><b>11.4</b> Introducing Custom Parameters</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="modifying-the-om.html"><a href="modifying-the-om.html"><i class="fa fa-check"></i><b>12</b> Modifying the OM</a><ul>
<li class="chapter" data-level="12.1" data-path="modifying-the-om.html"><a href="modifying-the-om.html#the-tinyerr-function"><i class="fa fa-check"></i><b>12.1</b> The <code>tinyErr</code> function</a></li>
<li class="chapter" data-level="12.2" data-path="modifying-the-om.html"><a href="modifying-the-om.html#the-replace-function"><i class="fa fa-check"></i><b>12.2</b> The <code>Replace</code> function</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="operating-model-library.html"><a href="operating-model-library.html"><i class="fa fa-check"></i><b>13</b> Operating Model Library</a></li>
<li class="part"><span><b>Interpreting MSE Results</b></span></li>
<li class="chapter" data-level="14" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html"><i class="fa fa-check"></i><b>14</b> Examining the MSE object</a><ul>
<li class="chapter" data-level="14.1" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-first-six-slots"><i class="fa fa-check"></i><b>14.1</b> The First Six Slots</a></li>
<li class="chapter" data-level="14.2" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-om-slot"><i class="fa fa-check"></i><b>14.2</b> The <code>OM</code> Slot</a></li>
<li class="chapter" data-level="14.3" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-obs-slot"><i class="fa fa-check"></i><b>14.3</b> The <code>Obs</code> Slot</a></li>
<li class="chapter" data-level="14.4" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-b_bmsy-and-f_fmsy-slots"><i class="fa fa-check"></i><b>14.4</b> The <code>B_BMSY</code> and <code>F_FMSY</code> Slots</a></li>
<li class="chapter" data-level="14.5" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-b-fm-c-and-tac-slots"><i class="fa fa-check"></i><b>14.5</b> The <code>B</code>, <code>FM</code>, <code>C</code> and <code>TAC</code> Slots</a></li>
<li class="chapter" data-level="14.6" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-ssb_hist-cb_hist-and-fm_hist-slots"><i class="fa fa-check"></i><b>14.6</b> The <code>SSB_hist</code>, <code>CB_hist</code>, and <code>FM_hist</code> Slots</a></li>
<li class="chapter" data-level="14.7" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-effort-slot"><i class="fa fa-check"></i><b>14.7</b> The <code>Effort</code> Slot</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="performance-metrics.html"><a href="performance-metrics.html"><i class="fa fa-check"></i><b>15</b> Performance Metrics</a><ul>
<li class="chapter" data-level="15.1" data-path="performance-metrics.html"><a href="performance-metrics.html#the-need-for-performance-metrics"><i class="fa fa-check"></i><b>15.1</b> The Need for Performance Metrics</a></li>
<li class="chapter" data-level="15.2" data-path="performance-metrics.html"><a href="performance-metrics.html#inevitable-trade-offs"><i class="fa fa-check"></i><b>15.2</b> Inevitable Trade-Offs</a><ul>
<li class="chapter" data-level="15.2.1" data-path="performance-metrics.html"><a href="performance-metrics.html#operational-management-objectives"><i class="fa fa-check"></i><b>15.2.1</b> Operational Management Objectives</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="performance-metrics.html"><a href="performance-metrics.html#commonly-used-performance-metrics"><i class="fa fa-check"></i><b>15.3</b> Commonly used Performance Metrics</a><ul>
<li class="chapter" data-level="15.3.1" data-path="performance-metrics.html"><a href="performance-metrics.html#fishing-mortality"><i class="fa fa-check"></i><b>15.3.1</b> Fishing Mortality</a></li>
<li class="chapter" data-level="15.3.2" data-path="performance-metrics.html"><a href="performance-metrics.html#stock-biomass"><i class="fa fa-check"></i><b>15.3.2</b> Stock Biomass</a></li>
<li class="chapter" data-level="15.3.3" data-path="performance-metrics.html"><a href="performance-metrics.html#additional-performance-metrics"><i class="fa fa-check"></i><b>15.3.3</b> Additional Performance Metrics</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="performance-metrics.html"><a href="performance-metrics.html#performance-metrics-methods"><i class="fa fa-check"></i><b>15.4</b> Performance Metrics Methods</a><ul>
<li class="chapter" data-level="15.4.1" data-path="performance-metrics.html"><a href="performance-metrics.html#overview-of-the-pm-functions"><i class="fa fa-check"></i><b>15.4.1</b> Overview of the <code>PM</code> Functions</a></li>
<li class="chapter" data-level="15.4.2" data-path="performance-metrics.html"><a href="performance-metrics.html#customizing-the-pm-functions"><i class="fa fa-check"></i><b>15.4.2</b> Customizing the <code>PM</code> Functions</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="performance-metrics.html"><a href="performance-metrics.html#summarizing-management-procedure-performance"><i class="fa fa-check"></i><b>15.5</b> Summarizing Management Procedure Performance</a><ul>
<li class="chapter" data-level="15.5.1" data-path="performance-metrics.html"><a href="performance-metrics.html#summary-table-1"><i class="fa fa-check"></i><b>15.5.1</b> <code>summary</code> Table</a></li>
<li class="chapter" data-level="15.5.2" data-path="performance-metrics.html"><a href="performance-metrics.html#trade-off-plots-1"><i class="fa fa-check"></i><b>15.5.2</b> Trade-Off Plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="value-of-information.html"><a href="value-of-information.html"><i class="fa fa-check"></i><b>16</b> Value of Information</a></li>
<li class="part"><span><b>Using Fishery Data</b></span></li>
<li class="chapter" data-level="17" data-path="the-fishery-data-object.html"><a href="the-fishery-data-object.html"><i class="fa fa-check"></i><b>17</b> The Fishery Data Object</a><ul>
<li class="chapter" data-level="17.1" data-path="the-fishery-data-object.html"><a href="the-fishery-data-object.html#in-the-mse"><i class="fa fa-check"></i><b>17.1</b> In the MSE</a></li>
<li class="chapter" data-level="17.2" data-path="the-fishery-data-object.html"><a href="the-fishery-data-object.html#application-of-management-procedures-using-real-fisheries-data"><i class="fa fa-check"></i><b>17.2</b> Application of Management Procedures Using Real Fisheries Data</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="example-data-objects.html"><a href="example-data-objects.html"><i class="fa fa-check"></i><b>18</b> Example Data Objects</a></li>
<li class="chapter" data-level="19" data-path="creating-your-own-data-object.html"><a href="creating-your-own-data-object.html"><i class="fa fa-check"></i><b>19</b> Creating Your Own Data Object</a><ul>
<li class="chapter" data-level="19.1" data-path="creating-your-own-data-object.html"><a href="creating-your-own-data-object.html#creating-a-data-file-in-excel"><i class="fa fa-check"></i><b>19.1</b> Creating a Data File in Excel</a></li>
<li class="chapter" data-level="19.2" data-path="creating-your-own-data-object.html"><a href="creating-your-own-data-object.html#importing-the-data-object"><i class="fa fa-check"></i><b>19.2</b> Importing the Data object</a></li>
<li class="chapter" data-level="19.3" data-path="creating-your-own-data-object.html"><a href="creating-your-own-data-object.html#example-fishery-data-files"><i class="fa fa-check"></i><b>19.3</b> Example Fishery Data Files</a></li>
<li class="chapter" data-level="19.4" data-path="creating-your-own-data-object.html"><a href="creating-your-own-data-object.html#populating-a-data-object-in-r"><i class="fa fa-check"></i><b>19.4</b> Populating a Data Object in R</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="plotting-data-objects.html"><a href="plotting-data-objects.html"><i class="fa fa-check"></i><b>20</b> Plotting Data Objects</a></li>
<li class="chapter" data-level="21" data-path="determining-feasible-and-available-management-procedures.html"><a href="determining-feasible-and-available-management-procedures.html"><i class="fa fa-check"></i><b>21</b> Determining Feasible and Available Management Procedures</a><ul>
<li class="chapter" data-level="21.1" data-path="determining-feasible-and-available-management-procedures.html"><a href="determining-feasible-and-available-management-procedures.html#feasible-mps"><i class="fa fa-check"></i><b>21.1</b> Feasible MPs</a></li>
<li class="chapter" data-level="21.2" data-path="determining-feasible-and-available-management-procedures.html"><a href="determining-feasible-and-available-management-procedures.html#available-mps"><i class="fa fa-check"></i><b>21.2</b> Available MPs</a></li>
<li class="chapter" data-level="21.3" data-path="determining-feasible-and-available-management-procedures.html"><a href="determining-feasible-and-available-management-procedures.html#unavailable-mps"><i class="fa fa-check"></i><b>21.3</b> Unavailable MPs</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="applying-management-procedures.html"><a href="applying-management-procedures.html"><i class="fa fa-check"></i><b>22</b> Applying Management Procedures</a></li>
<li class="part"><span><b>Advanced DLMtool</b></span></li>
<li class="chapter" data-level="23" data-path="averaging-mps.html"><a href="averaging-mps.html"><i class="fa fa-check"></i><b>23</b> Averaging MPs</a></li>
<li class="chapter" data-level="24" data-path="evaluating-om.html"><a href="evaluating-om.html"><i class="fa fa-check"></i><b>24</b> Evaluating OM</a></li>
<li class="chapter" data-level="25" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html"><i class="fa fa-check"></i><b>25</b> Customizing the Operating Model</a><ul>
<li class="chapter" data-level="25.1" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#accounting-for-historical-changes-in-fishing"><i class="fa fa-check"></i><b>25.1</b> Accounting for Historical Changes in Fishing</a><ul>
<li class="chapter" data-level="25.1.1" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#historical-trends-in-fishing-mortality"><i class="fa fa-check"></i><b>25.1.1</b> Historical Trends in Fishing Mortality</a></li>
<li class="chapter" data-level="25.1.2" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#historical-trends-in-selectivity-pattern"><i class="fa fa-check"></i><b>25.1.2</b> Historical Trends in Selectivity Pattern</a></li>
<li class="chapter" data-level="25.1.3" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#including-existing-mpas"><i class="fa fa-check"></i><b>25.1.3</b> Including Existing MPAs</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#size-specific-natural-mortality"><i class="fa fa-check"></i><b>25.2</b> Size-Specific Natural Mortality</a><ul>
<li class="chapter" data-level="25.2.1" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#constant-m-at-agesize"><i class="fa fa-check"></i><b>25.2.1</b> Constant M at age/size</a></li>
<li class="chapter" data-level="25.2.2" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#lorenzen-function-of-weight"><i class="fa fa-check"></i><b>25.2.2</b> Lorenzen function of weight</a></li>
<li class="chapter" data-level="25.2.3" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#map-age-specific-m"><i class="fa fa-check"></i><b>25.2.3</b> Map Age-Specific M</a></li>
<li class="chapter" data-level="25.2.4" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#map-length-specific-m"><i class="fa fa-check"></i><b>25.2.4</b> Map Length-Specific M</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#selection-retention-and-discard-mortality"><i class="fa fa-check"></i><b>25.3</b> Selection, Retention and Discard Mortality</a><ul>
<li class="chapter" data-level="25.3.1" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#fishery-selection-curve"><i class="fa fa-check"></i><b>25.3.1</b> Fishery Selection Curve</a></li>
<li class="chapter" data-level="25.3.2" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#fishery-retention-curve"><i class="fa fa-check"></i><b>25.3.2</b> Fishery Retention Curve</a></li>
<li class="chapter" data-level="25.3.3" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#discard-mortality"><i class="fa fa-check"></i><b>25.3.3</b> Discard Mortality</a></li>
<li class="chapter" data-level="25.3.4" data-path="customizing-the-operating-model.html"><a href="customizing-the-operating-model.html#general-discarding"><i class="fa fa-check"></i><b>25.3.4</b> General Discarding</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="developing-custom-management-procedures.html"><a href="developing-custom-management-procedures.html"><i class="fa fa-check"></i><b>26</b> Developing Custom Management Procedures</a><ul>
<li class="chapter" data-level="26.1" data-path="developing-custom-management-procedures.html"><a href="developing-custom-management-procedures.html#the-anatomy-of-an-mp"><i class="fa fa-check"></i><b>26.1</b> The Anatomy of an MP</a></li>
<li class="chapter" data-level="26.2" data-path="developing-custom-management-procedures.html"><a href="developing-custom-management-procedures.html#a-constant-catch-mp"><i class="fa fa-check"></i><b>26.2</b> A Constant Catch MP</a></li>
<li class="chapter" data-level="26.3" data-path="developing-custom-management-procedures.html"><a href="developing-custom-management-procedures.html#a-more-complex-mp"><i class="fa fa-check"></i><b>26.3</b> A More Complex MP</a></li>
<li class="chapter" data-level="26.4" data-path="developing-custom-management-procedures.html"><a href="developing-custom-management-procedures.html#beyond-the-catch-limit"><i class="fa fa-check"></i><b>26.4</b> Beyond the Catch Limit</a><ul>
<li class="chapter" data-level="26.4.1" data-path="developing-custom-management-procedures.html"><a href="developing-custom-management-procedures.html#an-example-effort-control"><i class="fa fa-check"></i><b>26.4.1</b> An Example Effort Control</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="27" data-path="custom-parameters.html"><a href="custom-parameters.html"><i class="fa fa-check"></i><b>27</b> Custom Parameters</a><ul>
<li class="chapter" data-level="27.1" data-path="custom-parameters.html"><a href="custom-parameters.html#valid-cpars-names"><i class="fa fa-check"></i><b>27.1</b> Valid cpars names</a></li>
<li class="chapter" data-level="27.2" data-path="custom-parameters.html"><a href="custom-parameters.html#correlated-samples"><i class="fa fa-check"></i><b>27.2</b> Correlated samples</a></li>
<li class="chapter" data-level="27.3" data-path="custom-parameters.html"><a href="custom-parameters.html#custom-internal-parameters"><i class="fa fa-check"></i><b>27.3</b> Custom internal parameters</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="subsetting-the-mse-object.html"><a href="subsetting-the-mse-object.html"><i class="fa fa-check"></i><b>28</b> Subsetting the MSE Object</a><ul>
<li class="chapter" data-level="28.1" data-path="subsetting-the-mse-object.html"><a href="subsetting-the-mse-object.html#subsetting-by-performance"><i class="fa fa-check"></i><b>28.1</b> Subsetting by Performance</a></li>
<li class="chapter" data-level="28.2" data-path="subsetting-the-mse-object.html"><a href="subsetting-the-mse-object.html#subsetting-by-operating-model-parameters"><i class="fa fa-check"></i><b>28.2</b> Subsetting by Operating Model Parameters</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="custom-performance-metrics.html"><a href="custom-performance-metrics.html"><i class="fa fa-check"></i><b>29</b> Custom Performance Metrics</a><ul>
<li class="chapter" data-level="29.1" data-path="custom-performance-metrics.html"><a href="custom-performance-metrics.html#necessity-of-complexity"><i class="fa fa-check"></i><b>29.1</b> Necessity of Complexity</a></li>
<li class="chapter" data-level="29.2" data-path="custom-performance-metrics.html"><a href="custom-performance-metrics.html#pm-methods-in-detail"><i class="fa fa-check"></i><b>29.2</b> <code>PM</code> Methods in Detail</a></li>
<li class="chapter" data-level="29.3" data-path="custom-performance-metrics.html"><a href="custom-performance-metrics.html#creating-example-pms-and-plot"><i class="fa fa-check"></i><b>29.3</b> Creating Example <code>PMs</code> and Plot</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="using-real-indices.html"><a href="using-real-indices.html"><i class="fa fa-check"></i><b>30</b> Using Real Indices</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>A</b> Acknowledgements</a></li>
<li class="chapter" data-level="B" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>B</b> References</a></li>
<li class="chapter" data-level="C" data-path="getting-help.html"><a href="getting-help.html"><i class="fa fa-check"></i><b>C</b> Getting Help</a><ul>
<li class="chapter" data-level="C.1" data-path="getting-help.html"><a href="getting-help.html#first-time-working-with-r"><i class="fa fa-check"></i><b>C.1</b> First Time Working With R?</a><ul>
<li class="chapter" data-level="" data-path="getting-help.html"><a href="getting-help.html#the-r-software-1"><i class="fa fa-check"></i>The R Software</a></li>
<li class="chapter" data-level="" data-path="getting-help.html"><a href="getting-help.html#rstudio-1"><i class="fa fa-check"></i>RStudio</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="getting-help.html"><a href="getting-help.html#loadDLM"><i class="fa fa-check"></i><b>C.2</b> Installing the DLMtool Package</a><ul>
<li class="chapter" data-level="" data-path="getting-help.html"><a href="getting-help.html#installing-dlmtool-using-r-console-1"><i class="fa fa-check"></i>Installing DLMtool Using R Console</a></li>
<li class="chapter" data-level="" data-path="getting-help.html"><a href="getting-help.html#installing-dlmtool-using-rstudio"><i class="fa fa-check"></i>Installing DLMtool Using RStudio</a></li>
<li class="chapter" data-level="" data-path="getting-help.html"><a href="getting-help.html#updating-the-dlmtool-package-1"><i class="fa fa-check"></i>Updating the DLMtool Package</a></li>
<li class="chapter" data-level="" data-path="getting-help.html"><a href="getting-help.html#loading-the-dlmtool-package"><i class="fa fa-check"></i>Loading the DLMtool Package</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="getting-help.html"><a href="getting-help.html#a-brief-note-on-s4-methods"><i class="fa fa-check"></i><b>C.3</b> A Brief Note on S4 Methods</a></li>
<li class="chapter" data-level="C.4" data-path="getting-help.html"><a href="getting-help.html#additional-help-on-the-dlmtool"><i class="fa fa-check"></i><b>C.4</b> Additional Help on the DLMtool</a></li>
<li class="chapter" data-level="C.5" data-path="getting-help.html"><a href="getting-help.html#questions-on-r-related-problems"><i class="fa fa-check"></i><b>C.5</b> Questions on R-related Problems</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html"><i class="fa fa-check"></i><b>D</b> Assumptions of DLMtool</a><ul>
<li class="chapter" data-level="D.1" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#biology"><i class="fa fa-check"></i><b>D.1</b> Biology</a><ul>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#short-lived-species"><i class="fa fa-check"></i>Short-Lived Species</a></li>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#density-dependent-compensation"><i class="fa fa-check"></i>Density-Dependent Compensation</a></li>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#von-bertalanffy-growth"><i class="fa fa-check"></i>von Bertalanffy Growth</a></li>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#natural-mortality-rate-at-age"><i class="fa fa-check"></i>Natural Mortality Rate at Age</a></li>
</ul></li>
<li class="chapter" data-level="D.2" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#mse-model-assumptions"><i class="fa fa-check"></i><b>D.2</b> MSE Model Assumptions</a><ul>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#retention-and-selectivity"><i class="fa fa-check"></i>Retention and Selectivity</a></li>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#non-convergence-of-management-procedure"><i class="fa fa-check"></i>Non-Convergence of Management Procedure</a></li>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#idealised-observation-models-for-catch-composition-data"><i class="fa fa-check"></i>Idealised Observation Models for Catch Composition Data</a></li>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#two-box-model"><i class="fa fa-check"></i>Two-Box Model</a></li>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#ontogenetic-habitat-shifts"><i class="fa fa-check"></i>Ontogenetic Habitat Shifts</a></li>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#closed-system"><i class="fa fa-check"></i>Closed System</a></li>
</ul></li>
<li class="chapter" data-level="D.3" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#management-procedures-1"><i class="fa fa-check"></i><b>D.3</b> Management Procedures</a><ul>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#harvest-control-rules-must-be-integrated-into-data-limited-mps"><i class="fa fa-check"></i>Harvest Control Rules Must be Integrated into Data-Limited MPs</a></li>
</ul></li>
<li class="chapter" data-level="D.4" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#data-and-method-application"><i class="fa fa-check"></i><b>D.4</b> Data and Method Application</a><ul>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#data-assumed-to-be-representative"><i class="fa fa-check"></i>Data Assumed to be Representative</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#calculating-reference-points"><i class="fa fa-check"></i><b>D.5</b> Calculating Reference Points</a><ul>
<li class="chapter" data-level="" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#depletion-and-unfished-reference-points"><i class="fa fa-check"></i>Depletion and Unfished Reference Points</a></li>
<li class="chapter" data-level="D.5.1" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#initial-depletion"><i class="fa fa-check"></i><b>D.5.1</b> Initial Depletion</a></li>
<li class="chapter" data-level="D.5.2" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#msy-reference-points"><i class="fa fa-check"></i><b>D.5.2</b> MSY Reference Points</a></li>
<li class="chapter" data-level="D.5.3" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#setting-depletion-at-a-fraction-of-bmsy"><i class="fa fa-check"></i><b>D.5.3</b> Setting Depletion at a fraction of BMSY</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="E" data-path="changes.html"><a href="changes.html"><i class="fa fa-check"></i><b>E</b> Changes</a><ul>
<li class="chapter" data-level="" data-path="changes.html"><a href="changes.html#important-changes---dlmtool-v4.1-and-greater"><i class="fa fa-check"></i>Important changes - DLMtool V4.1 and greater</a></li>
<li class="chapter" data-level="" data-path="changes.html"><a href="changes.html#important-changes---dlmtool-v4.5-and-greater"><i class="fa fa-check"></i>Important changes - DLMtool V4.5 and greater</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="http://www.datalimitedtoolkit.com" target="blank">DLMtool Website</a></li>
<li><a href="../index.html">DLMtool Documentation</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data-Limited Methods Toolkit (DLMtool 5.3)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="custom-parameters" class="section level1">
<h1><span class="header-section-number">Chapter 27</span> Custom Parameters</h1>
<p>By default, DLMtool samples the operating model parameters from a uniform distribution. Because the parameters are sampled independently, it is not possible to generate correlated samples. However, the <code>cpars</code> slot in the <code>OM</code> object can be used to pass custom samples into the MSE.</p>
<p>The addition of the <code>cpars</code> slot provides a lot of flexibility to the DLMtool, and allows users full control of all parameters used in the model. For example, it is possible to generate operating models directly from the output of common stock assessment packages using functions in DLMtool (e.g <code>SS2DLM</code> for Stock Synthesis 3, and <code>iSCAM2DLM</code> for a iSCAM model - Note: these functions have now been moved to <code>MSEtool</code>). These functions take the correlated parameter values from the output of the stock assessment and provide them to DLMtool via the <code>cpars</code> slot, resulting in an operating model that is conditioned on the stock assessment.</p>
<p>The <code>cpars</code> feature is being continually developed as more features are requested for DLMtool.</p>
<div id="valid-cpars-names" class="section level2">
<h2><span class="header-section-number">27.1</span> Valid cpars names</h2>
<p>The <code>cpars</code> slot requires a named list containing the custom parameter values. You can see the valid names for <code>cpars</code> by typing:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">validcpars</span>())</code></pre></div>
<pre><code>##    Var.                       Dim.                         Desc.  Type
## 1    R0 numeric vector length nsim            Virgin recruitment Stock
## 2     M numeric vector length nsim             Natural mortality Stock
## 3  Mexp numeric vector length nsim    Lorenzen M-weight exponent Stock
## 4   Msd numeric vector length nsim Inter-annual variability in M Stock
## 5 Mgrad numeric vector length nsim                 Gradient in M Stock
## 6     h numeric vector length nsim                     Steepness Stock</code></pre>
<p>The custom parameters are divided into 5 different types: ‘Stock’, ‘Fleet’, ‘Obs’, and ‘Imp’ corresponding to the OM components of the same names, and ‘internal’ for internal operating model parameters that over-ride or ignore the values in the <code>OM</code> slots.</p>
<p>A warning message will alert you if variables appear in the named <code>cpars</code> list that are not in <code>validcpars()</code>, and these will be ignored in the MSE.</p>
</div>
<div id="correlated-samples" class="section level2">
<h2><span class="header-section-number">27.2</span> Correlated samples</h2>
<p>As the <code>cpars</code> feature is used to provide correlated samples to the MSE, it is important that the same number of custom parameters are provided for each variable. In most cases, this is simply a vector <code>nsim</code> long.</p>
<p>For example, if you wish to supply correlated samples of the von Bertalanffy growth parameters, you would create three vectors of length <code>nsim</code> containing the samples of Linf, K, and t0.</p>
<p>If the vectors are shorter than <code>nsim</code> they will simply be recycled. An error message will alert you if the vectors are not the same length.</p>
<p>As a demonstration, we will use the <code>ForceCor</code> function to generate correlated samples of <em>M</em>, <em>K</em>, <em>L50</em>, and <em>Linf</em> and examine the <code>cpars</code> slot in the resulting OM object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">OM &lt;-<span class="st"> </span><span class="kw">ForceCor</span>(DLMtool<span class="op">::</span>testOM)</code></pre></div>
<p><img src="userguide_files/figure-html/unnamed-chunk-181-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(OM<span class="op">@</span>cpars)</code></pre></div>
<pre><code>## List of 4
##  $ M   : num [1:48] 0.382 0.39 0.396 0.353 0.4 ...
##  $ K   : num [1:48] 0.174 0.176 0.187 0.163 0.196 ...
##  $ L50 : num [1:48] 84.8 86.6 88.9 88.3 88 ...
##  $ Linf: num [1:48] 132 132 130 134 128 ...</code></pre>
<p>You can see that the <code>OM@cpars</code> slot is a list of length 4 and contains named vectors with 48 correlated samples of the four parameters.</p>
<p>Because the <code>OM@cpars</code> slot contains these values, the <em>M</em>, <em>K</em>, <em>L50</em>, and <em>Linf</em> values in the OM, e.g. <code>OM@M</code> will be ignored.</p>
<p>Any additional custom parameters can be added to <code>cpars</code> using this same approach. For example, to provide custom (in this case uncorrelated) samples of <em>t0</em>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">OM<span class="op">@</span>cpars<span class="op">$</span>t0 &lt;-<span class="st"> </span><span class="kw">runif</span>(OM<span class="op">@</span>cpars, <span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>)
<span class="kw">str</span>(OM<span class="op">@</span>cpars)</code></pre></div>
<pre><code>## List of 5
##  $ M   : num [1:48] 0.382 0.39 0.396 0.353 0.4 ...
##  $ K   : num [1:48] 0.174 0.176 0.187 0.163 0.196 ...
##  $ L50 : num [1:48] 84.8 86.6 88.9 88.3 88 ...
##  $ Linf: num [1:48] 132 132 130 134 128 ...
##  $ t0  : num [1:4] -0.768 -0.759 -0.203 -0.168</code></pre>
</div>
<div id="custom-internal-parameters" class="section level2">
<h2><span class="header-section-number">27.3</span> Custom internal parameters</h2>
<p>It is also possible to supply custom generated time-varing values or other values to internal parameters using the <code>cpars</code> slot. For example, time-varying natural mortality or selectivity patterns. These are referred to as <em>internal</em> custom parameters.</p>
<p>A list of valid internal cpars can be found by using the <code>validcpars</code> function. Here, for presentation purposes, we print just the first two columns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">val_int &lt;-<span class="st"> </span><span class="kw">validcpars</span>(<span class="st">&#39;internal&#39;</span>)
val_int[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)]</code></pre></div>
<pre><code>##           Var.
## 1        Cbias
## 2     CAL_bins
## 3  CAL_binsmid
## 4          L95
## 5       Perr_y
## 6  M_at_Length
## 7        Asize
## 8       Karray
## 9    Linfarray
## 10      Marray
## 11       Krand
## 12    Linfrand
## 13       Mrand
## 14        ageM
## 15       age95
## 16  M_ageArray
## 17     Mat_age
## 18      LatASD
## 19      Wt_age
## 20     Len_age
## 21         mov
## 22       initD
## 23        Find
## 24     dFfinal
## 25           V
## 26        retA
## 27        retL
## 28    lenMbias
## 29       Mbias
## 30       Kbias
## 31      t0bias
## 32    Linfbias
## 33     LFCbias
## 34    FMSYbias
## 35  FMSY_Mbias
## 36 BMSY_B0bias
## 37    Irefbias
## 38    Brefbias
## 39    Crefbias
## 40       Dbias
## 41       hbias
## 42        hsim
## 43        Data
##                                                                                                          Dim.
## 1                                                                                  numeric vector length nsim
## 2                                                                                             numeric vector 
## 3                                                                           numeric vector length(CAL_bins)-1
## 4                                                                                  numeric vector length nsim
## 5                                                      numeric matrix dim = c(nsim, maxage+proyears+nyears-1)
## 6                                                                        numeric matrix dim = c(n.lengths, 3)
## 7                                                                         numeric matrix dim = c(nsim, narea)
## 8                                                               numeric matrix dim = c(nsim, nyears+proyears)
## 9                                                               numeric matrix dim = c(nsim, nyears+proyears)
## 10                                                              numeric matrix dim = c(nsim, nyears+proyears)
## 11                                                              numeric matrix dim = c(nsim, nyears+proyears)
## 12                                                              numeric matrix dim = c(nsim, nyears+proyears)
## 13                                                              numeric matrix dim = c(nsim, nyears+proyears)
## 14                                                              numeric matrix dim = c(nsim, nyears+proyears)
## 15                                                              numeric matrix dim = c(nsim, nyears+proyears)
## 16                                                       numeric array dim = c(nsim, maxage, nyears+proyears)
## 17                                                       numeric array dim = c(nsim, maxage, nyears+proyears)
## 18                                                       numeric array dim = c(nsim, maxage, nyears+proyears)
## 19                                                       numeric array dim = c(nsim, maxage, nyears+proyears)
## 20                                                       numeric array dim = c(nsim, maxage, nyears+proyears)
## 21 numeric array dim = c(nsim, maxage, narea, narea) OR  dim = c(nsim, maxage, narea, narea, nyears+proyears)
## 22                                                                                 numeric vector length nsim
## 23                                                                       numeric matrix dim = c(nsim, nyears)
## 24                                                                                 numeric vector length nsim
## 25                                                       numeric array dim = c(nsim, maxage, nyears+proyears)
## 26                                                       numeric array dim = c(nsim, maxage, nyears+proyears)
## 27                                                     numeric array dim = c(nsim, nCALbins, nyears+proyears)
## 28                                                                                 numeric vector length nsim
## 29                                                                                 numeric vector length nsim
## 30                                                                                 numeric vector length nsim
## 31                                                                                 numeric vector length nsim
## 32                                                                                 numeric vector length nsim
## 33                                                                                 numeric vector length nsim
## 34                                                                                 numeric vector length nsim
## 35                                                                                 numeric vector length nsim
## 36                                                                                 numeric vector length nsim
## 37                                                                                 numeric vector length nsim
## 38                                                                                 numeric vector length nsim
## 39                                                                                 numeric vector length nsim
## 40                                                                                 numeric vector length nsim
## 41                                                                                 numeric vector length nsim
## 42                                                                                 numeric vector length nsim
## 43                                                                                       Object of class Data</code></pre>
<p>We can see that there are 43 valid internal cpars. The internal cpars are parameters that are derived from one or more of the <code>OM</code> slots.</p>
<p>For example, <code>M_ageArray</code> is an internal array that describes the natural mortality rate at age for each simulation and year. Typically, this array is derived from the <code>M</code>, <code>M2</code>, <code>Mexp</code>, <code>Mgrad</code> and <code>Msd</code> slots in the <code>Stock</code> object. Using the <code>cpars</code> feature we can override these values in the <code>OM</code> and provide our own values for <em>M</em> for each simulation, age, and year.</p>
<p>Information on the <code>M_ageArray</code> variable in cpars can be found in the output of the <code>validcpars</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">val_int[<span class="dv">15</span>,]</code></pre></div>
<pre><code>##     Var.                                          Dim.
## 15 age95 numeric matrix dim = c(nsim, nyears+proyears)
##                                         Desc.     Type
## 15 Age at 95% maturity by simulation and year internal</code></pre>
<p>To generate our own values of the M-at-age array we would populate <code>OM@cpars$M_ageArray</code> with an array with dimensions <code>OM@nsim</code>, <code>OM@maxage</code>, <code>OM@nyears+OM@proyears</code>.</p>
<p>The <code>cpars</code> feature is very powerful but also somewhat complicated, especially if you are using internal custom parameters. For example, by default DLMtool uses the <code>OM@L50_95</code> slot (the increment between length at 50% maturity (<code>OM@L50</code>) and length at 95% maturity (<code>L95</code>)) to calculate the internal parameter <code>L95</code>. This is neccessary to ensure that <code>L95</code> is always greater than <code>L50</code>. Using internal parameters in <code>cpars</code> it is possible to pass values to <code>L95</code> directly, however now it is up to you to make sure that the <code>L95</code> values are greater than the corresponding <code>L50</code> values, otherwise you end up with a species where fraction mature decreases with age/size!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">OM &lt;-<span class="st"> </span>testOM 
OM<span class="op">@</span>cpars<span class="op">$</span>L95 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">80</span>, OM<span class="op">@</span>nsim)
temp &lt;-<span class="st"> </span><span class="kw">runMSE</span>(OM, <span class="dt">Hist=</span><span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## Loading operating model</code></pre>
<pre><code>## valid custom parameters (OM@cpars) found: 
## L95</code></pre>
<pre><code>## Optimizing for user-specified movement</code></pre>
<pre><code>## Optimizing for user-specified depletion in last historical year</code></pre>
<pre><code>## 11 simulations have final biomass that is not close to sampled depletion</code></pre>
<pre><code>## Re-sampling depletion, recruitment error, and fishing effort</code></pre>
<pre><code>## Calculating historical stock and fishing dynamics</code></pre>
<pre><code>## Calculating MSY reference points for each year</code></pre>
<pre><code>## Calculating B-low reference points</code></pre>
<pre><code>## Calculating reference yield - best fixed F strategy</code></pre>
<pre><code>## Simulating observed data</code></pre>
<pre><code>## Returning historical simulations</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(<span class="dt">L50=</span>temp<span class="op">@</span>SampPars<span class="op">$</span>L50, <span class="dt">L95=</span>temp<span class="op">@</span>SampPars<span class="op">$</span>L95, <span class="dt">diff=</span>temp<span class="op">@</span>SampPars<span class="op">$</span>L95 <span class="op">-</span><span class="st"> </span>temp<span class="op">@</span>SampPars<span class="op">$</span>L50)</code></pre></div>
<pre><code>##         L50 L95       diff
## 1  89.29632  80  -9.296324
## 2  85.94840  80  -5.948397
## 3  83.02974  80  -3.029737
## 4  82.72569  80  -2.725685
## 5  87.00959  80  -7.009591
## 6  82.88771  80  -2.887705
## 7  90.17793  80 -10.177931
## 8  83.81742  80  -3.817423
## 9  87.81777  80  -7.817765
## 10 84.97352  80  -4.973519
## 11 88.37993  80  -8.379927
## 12 87.54484  80  -7.544837
## 13 89.68775  80  -9.687752
## 14 90.60570  80 -10.605700
## 15 90.11753  80 -10.117530
## 16 89.93550  80  -9.935500
## 17 83.79199  80  -3.791989
## 18 82.63972  80  -2.639718
## 19 85.90402  80  -5.904019
## 20 89.30135  80  -9.301353
## 21 86.76698  80  -6.766979
## 22 83.99262  80  -3.992624
## 23 88.38363  80  -8.383626
## 24 84.21836  80  -4.218363
## 25 81.24307  80  -1.243072
## 26 81.36054  80  -1.360544
## 27 83.45353  80  -3.453532
## 28 86.99403  80  -6.994028
## 29 83.24743  80  -3.247426
## 30 87.87676  80  -7.876755
## 31 82.32874  80  -2.328738
## 32 86.58952  80  -6.589517
## 33 90.09740  80 -10.097400
## 34 84.91566  80  -4.915659
## 35 83.48538  80  -3.485384
## 36 90.99788  80 -10.997882
## 37 85.78385  80  -5.783854
## 38 90.74749  80 -10.747493
## 39 83.28700  80  -3.286995
## 40 84.65751  80  -4.657509
## 41 88.04526  80  -8.045262
## 42 82.42479  80  -2.424794
## 43 84.60668  80  -4.606678
## 44 84.31737  80  -4.317373
## 45 90.17543  80 -10.175434
## 46 89.00868  80  -9.008677
## 47 85.91241  80  -5.912413
## 48 86.02250  80  -6.022501</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dv">1</span><span class="op">:</span>OM<span class="op">@</span>maxage, temp<span class="op">@</span>AtAge<span class="op">$</span>Maturity[<span class="dv">1</span>,,<span class="dv">1</span>], <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, 
     <span class="dt">xlab=</span><span class="st">&quot;Age&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Maturity&quot;</span>)</code></pre></div>
<p><img src="userguide_files/figure-html/unnamed-chunk-185-1.png" width="672" /></p>
<p>We have tried to include checks to ensure the model is simulating credible population dynamics, but as this somewhat contrived example shows, care is needed when using <code>OM@cpars</code> to specify internal parameters. We recommend first running the model with <code>Hist=TRUE</code> as in the above example and examining the generated values to ensure the parameters you have added in <code>OM@cpars</code> are being used as expected.</p>
<p>If you find that this is a feature you wish to use but are unclear how to do it, bug us with an email!</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="developing-custom-management-procedures.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="subsetting-the-mse-object.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["userguide.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"<!--edit": "https://github.com/DLMtool/DLMtool_UserGuide/edit/master/%s-->"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
