<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data-Limited Methods Toolkit (DLMtool)</title>
  <meta name="description" content="User guide for the DLMtool R package">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Data-Limited Methods Toolkit (DLMtool)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="User guide for the DLMtool R package" />
  <meta name="github-repo" content="DLMtool/DLMtool" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data-Limited Methods Toolkit (DLMtool)" />
  
  <meta name="twitter:description" content="User guide for the DLMtool R package" />
  



<meta name="date" content="2017-10-12">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="favicon-16x16.png" type="image/x-icon">
<link rel="prev" href="preq.html">
<link rel="next" href="MPs.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">DLMtool User Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#data-limited-methods-toolkit"><i class="fa fa-check"></i><b>1.1</b> Data-Limited Methods Toolkit</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#management-strategy-evaluation"><i class="fa fa-check"></i><b>1.2</b> Management Strategy Evaluation</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#how-does-management-strategy-evaluation-differ-from-stock-assessment"><i class="fa fa-check"></i><b>1.3</b> How does Management Strategy Evaluation Differ from Stock Assessment?</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#overview-of-the-user-guide"><i class="fa fa-check"></i><b>1.4</b> Overview of the User Guide</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.5</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#bug-reports"><i class="fa fa-check"></i><b>1.6</b> Bug Reports</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#version-notes"><i class="fa fa-check"></i><b>1.7</b> Version Notes</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html"><i class="fa fa-check"></i><b>2</b> First Time Working With R?</a><ul>
<li class="chapter" data-level="2.1" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> R and RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#the-r-software"><i class="fa fa-check"></i><b>2.1.1</b> The R Software</a></li>
<li class="chapter" data-level="2.1.2" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#rstudio"><i class="fa fa-check"></i><b>2.1.2</b> RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#loadDLM"><i class="fa fa-check"></i><b>2.2</b> Installing the DLMtool Package</a><ul>
<li class="chapter" data-level="2.2.1" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#installing-dlmtool-using-r-console"><i class="fa fa-check"></i><b>2.2.1</b> Installing DLMtool Using R Console</a></li>
<li class="chapter" data-level="2.2.2" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#installing-dlmtool-using-rstudio"><i class="fa fa-check"></i><b>2.2.2</b> Installing DLMtool Using RStudio</a></li>
<li class="chapter" data-level="2.2.3" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#updating-the-dlmtool-package"><i class="fa fa-check"></i><b>2.2.3</b> Updating the DLMtool Package</a></li>
<li class="chapter" data-level="2.2.4" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#loading-the-dlmtool-package"><i class="fa fa-check"></i><b>2.2.4</b> Loading the DLMtool Package</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#assumed-knowledge"><i class="fa fa-check"></i><b>2.3</b> Assumed Knowledge</a></li>
<li class="chapter" data-level="2.4" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#a-brief-note-on-s4-methods"><i class="fa fa-check"></i><b>2.4</b> A Brief Note on S4 Methods</a></li>
<li class="chapter" data-level="2.5" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#getting-help"><i class="fa fa-check"></i><b>2.5</b> Getting Help</a><ul>
<li class="chapter" data-level="2.5.1" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#additional-help-on-the-dlmtool"><i class="fa fa-check"></i><b>2.5.1</b> Additional Help on the DLMtool</a></li>
<li class="chapter" data-level="2.5.2" data-path="first-time-working-with-r.html"><a href="first-time-working-with-r.html#questions-on-r-related-problems"><i class="fa fa-check"></i><b>2.5.2</b> Questions on R-related Problems</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="preq.html"><a href="preq.html"><i class="fa fa-check"></i><b>3</b> Prerequisites to Using DLMtool</a></li>
<li class="chapter" data-level="4" data-path="setupOM.html"><a href="setupOM.html"><i class="fa fa-check"></i><b>4</b> Setting up the MSE Operating Model</a><ul>
<li class="chapter" data-level="4.1" data-path="setupOM.html"><a href="setupOM.html#overview"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="setupOM.html"><a href="setupOM.html#the-operating-model-object"><i class="fa fa-check"></i><b>4.2</b> The Operating Model Object</a><ul>
<li class="chapter" data-level="4.2.1" data-path="setupOM.html"><a href="setupOM.html#stock-object"><i class="fa fa-check"></i><b>4.2.1</b> Stock Object</a></li>
<li class="chapter" data-level="4.2.2" data-path="setupOM.html"><a href="setupOM.html#fleet-object"><i class="fa fa-check"></i><b>4.2.2</b> Fleet Object</a></li>
<li class="chapter" data-level="4.2.3" data-path="setupOM.html"><a href="setupOM.html#observation-object"><i class="fa fa-check"></i><b>4.2.3</b> Observation Object</a></li>
<li class="chapter" data-level="4.2.4" data-path="setupOM.html"><a href="setupOM.html#implementation-object"><i class="fa fa-check"></i><b>4.2.4</b> Implementation Object</a></li>
<li class="chapter" data-level="4.2.5" data-path="setupOM.html"><a href="setupOM.html#important-changes---dlmtool-v4.1-and-greater"><i class="fa fa-check"></i><b>4.2.5</b> Important changes - DLMtool V4.1 and greater</a></li>
<li class="chapter" data-level="4.2.6" data-path="setupOM.html"><a href="setupOM.html#important-changes---dlmtool-v4.5-and-greater"><i class="fa fa-check"></i><b>4.2.6</b> Important changes - DLMtool V4.5 and greater</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="setupOM.html"><a href="setupOM.html#existing-stock-fleet-obs-and-imp-objects"><i class="fa fa-check"></i><b>4.3</b> Existing Stock, Fleet, Obs, and Imp Objects</a></li>
<li class="chapter" data-level="4.4" data-path="setupOM.html"><a href="setupOM.html#recommended-method-for-creating-the-operating-model-object"><i class="fa fa-check"></i><b>4.4</b> Recommended Method for Creating the Operating Model Object</a><ul>
<li class="chapter" data-level="4.4.1" data-path="setupOM.html"><a href="setupOM.html#set-working-directory"><i class="fa fa-check"></i><b>4.4.1</b> Set Working Directory</a></li>
<li class="chapter" data-level="4.4.2" data-path="setupOM.html"><a href="setupOM.html#initialize-a-new-om"><i class="fa fa-check"></i><b>4.4.2</b> Initialize a New OM</a></li>
<li class="chapter" data-level="4.4.3" data-path="setupOM.html"><a href="setupOM.html#create-source-documentation-for-existing-om"><i class="fa fa-check"></i><b>4.4.3</b> Create Source Documentation for Existing OM</a></li>
<li class="chapter" data-level="4.4.4" data-path="setupOM.html"><a href="setupOM.html#populate-and-document-om"><i class="fa fa-check"></i><b>4.4.4</b> Populate and Document OM</a></li>
<li class="chapter" data-level="4.4.5" data-path="setupOM.html"><a href="setupOM.html#compile-om-report-from-excel"><i class="fa fa-check"></i><b>4.4.5</b> Compile OM Report from Excel</a></li>
<li class="chapter" data-level="4.4.6" data-path="setupOM.html"><a href="setupOM.html#import-om-from-excel"><i class="fa fa-check"></i><b>4.4.6</b> Import OM from Excel</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="setupOM.html"><a href="setupOM.html#other-methods-to-import-om"><i class="fa fa-check"></i><b>4.5</b> Other Methods to Import OM</a><ul>
<li class="chapter" data-level="4.5.1" data-path="setupOM.html"><a href="setupOM.html#compile-om-report-from-om"><i class="fa fa-check"></i><b>4.5.1</b> Compile OM Report from OM</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="setupOM.html"><a href="setupOM.html#customizing-the-operating-model"><i class="fa fa-check"></i><b>4.6</b> Customizing the Operating Model</a><ul>
<li class="chapter" data-level="4.6.1" data-path="setupOM.html"><a href="setupOM.html#creating-new-objects"><i class="fa fa-check"></i><b>4.6.1</b> Creating New Objects</a></li>
<li class="chapter" data-level="4.6.2" data-path="setupOM.html"><a href="setupOM.html#importing-objects-from-a-csv-file"><i class="fa fa-check"></i><b>4.6.2</b> Importing Objects from a CSV File</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="setupOM.html"><a href="setupOM.html#modifying-existing-objects"><i class="fa fa-check"></i><b>4.7</b> Modifying Existing Objects</a></li>
<li class="chapter" data-level="4.8" data-path="setupOM.html"><a href="setupOM.html#more-on-customizing-the-operating-model"><i class="fa fa-check"></i><b>4.8</b> More on Customizing the Operating Model</a><ul>
<li class="chapter" data-level="4.8.1" data-path="setupOM.html"><a href="setupOM.html#historical-trends-in-fishing-mortality"><i class="fa fa-check"></i><b>4.8.1</b> Historical Trends in Fishing Mortality</a></li>
<li class="chapter" data-level="4.8.2" data-path="setupOM.html"><a href="setupOM.html#historical-trends-in-the-selectivity-pattern"><i class="fa fa-check"></i><b>4.8.2</b> Historical Trends in the Selectivity Pattern</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="MPs.html"><a href="MPs.html"><i class="fa fa-check"></i><b>5</b> Management Procedures</a><ul>
<li class="chapter" data-level="5.1" data-path="MPs.html"><a href="MPs.html#what-is-a-management-procedure"><i class="fa fa-check"></i><b>5.1</b> What is a Management Procedure?</a></li>
<li class="chapter" data-level="5.2" data-path="MPs.html"><a href="MPs.html#management-procedure-classes"><i class="fa fa-check"></i><b>5.2</b> Management Procedure Classes</a><ul>
<li class="chapter" data-level="5.2.1" data-path="MPs.html"><a href="MPs.html#output-controls"><i class="fa fa-check"></i><b>5.2.1</b> Output Controls</a></li>
<li class="chapter" data-level="5.2.2" data-path="MPs.html"><a href="MPs.html#input-controls"><i class="fa fa-check"></i><b>5.2.2</b> Input Controls</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="MPs.html"><a href="MPs.html#built-in-management-procedures"><i class="fa fa-check"></i><b>5.3</b> Built-in Management Procedures</a><ul>
<li class="chapter" data-level="5.3.1" data-path="MPs.html"><a href="MPs.html#output-controls-1"><i class="fa fa-check"></i><b>5.3.1</b> Output Controls</a></li>
<li class="chapter" data-level="5.3.2" data-path="MPs.html"><a href="MPs.html#input-controls-1"><i class="fa fa-check"></i><b>5.3.2</b> Input Controls</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="MPs.html"><a href="MPs.html#details-of-the-methods"><i class="fa fa-check"></i><b>5.4</b> Details of the Methods</a></li>
<li class="chapter" data-level="5.5" data-path="MPs.html"><a href="MPs.html#designing-new-methods"><i class="fa fa-check"></i><b>5.5</b> Designing New Methods</a><ul>
<li class="chapter" data-level="5.5.1" data-path="MPs.html"><a href="MPs.html#average-historical-catch-management-procedure"><i class="fa fa-check"></i><b>5.5.1</b> Average Historical Catch Management Procedure</a></li>
<li class="chapter" data-level="5.5.2" data-path="MPs.html"><a href="MPs.html#length-at-retention-set-equal-to-length-at-maturity"><i class="fa fa-check"></i><b>5.5.2</b> Length-at-Retention Set Equal to Length-at-Maturity</a></li>
<li class="chapter" data-level="5.5.3" data-path="MPs.html"><a href="MPs.html#harvest-slot-limit"><i class="fa fa-check"></i><b>5.5.3</b> Harvest Slot Limit</a></li>
<li class="chapter" data-level="5.5.4" data-path="MPs.html"><a href="MPs.html#reducing-fishing-rate-in-area-1-by-50"><i class="fa fa-check"></i><b>5.5.4</b> Reducing Fishing Rate in area 1 by 50%</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="MSE.html"><a href="MSE.html"><i class="fa fa-check"></i><b>6</b> Management Strategy Evaluation</a><ul>
<li class="chapter" data-level="6.1" data-path="MSE.html"><a href="MSE.html#re-cap-on-setting-up-dlmtool"><i class="fa fa-check"></i><b>6.1</b> Re-cap on Setting up DLMtool</a></li>
<li class="chapter" data-level="6.2" data-path="MSE.html"><a href="MSE.html#defining-the-operating-model"><i class="fa fa-check"></i><b>6.2</b> Defining the Operating Model</a></li>
<li class="chapter" data-level="6.3" data-path="MSE.html"><a href="MSE.html#choose-management-procedures"><i class="fa fa-check"></i><b>6.3</b> Choose Management Procedures</a></li>
<li class="chapter" data-level="6.4" data-path="MSE.html"><a href="MSE.html#the-runmse-function"><i class="fa fa-check"></i><b>6.4</b> The <code>runMSE</code> Function</a><ul>
<li class="chapter" data-level="6.4.1" data-path="MSE.html"><a href="MSE.html#description-of-the-arguments"><i class="fa fa-check"></i><b>6.4.1</b> Description of the Arguments</a></li>
<li class="chapter" data-level="6.4.2" data-path="MSE.html"><a href="MSE.html#using-runmse"><i class="fa fa-check"></i><b>6.4.2</b> Using <code>runMSE</code></a></li>
<li class="chapter" data-level="6.4.3" data-path="MSE.html"><a href="MSE.html#robust-wrapper-function"><i class="fa fa-check"></i><b>6.4.3</b> Robust Wrapper Function</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="MSE.html"><a href="MSE.html#checking-convergence"><i class="fa fa-check"></i><b>6.5</b> Checking Convergence</a></li>
<li class="chapter" data-level="6.6" data-path="MSE.html"><a href="MSE.html#a-quick-recap"><i class="fa fa-check"></i><b>6.6</b> A Quick Recap</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html"><i class="fa fa-check"></i><b>7</b> Examining the MSE object</a><ul>
<li class="chapter" data-level="7.1" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-mse-object"><i class="fa fa-check"></i><b>7.1</b> The MSE Object</a><ul>
<li class="chapter" data-level="7.1.1" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-first-six-slots"><i class="fa fa-check"></i><b>7.1.1</b> The First Six Slots</a></li>
<li class="chapter" data-level="7.1.2" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-om-slot"><i class="fa fa-check"></i><b>7.1.2</b> The <code>OM</code> Slot</a></li>
<li class="chapter" data-level="7.1.3" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-obs-slot"><i class="fa fa-check"></i><b>7.1.3</b> The <code>Obs</code> Slot</a></li>
<li class="chapter" data-level="7.1.4" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-b_bmsy-and-f_fmsy-slots"><i class="fa fa-check"></i><b>7.1.4</b> The <code>B_BMSY</code> and <code>F_FMSY</code> Slots</a></li>
<li class="chapter" data-level="7.1.5" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-b-fm-and-c-slots"><i class="fa fa-check"></i><b>7.1.5</b> The <code>B</code>, <code>FM</code>, and <code>C</code> Slots</a></li>
<li class="chapter" data-level="7.1.6" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-tac-slot"><i class="fa fa-check"></i><b>7.1.6</b> The <code>TAC</code> Slot</a></li>
<li class="chapter" data-level="7.1.7" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-ssb_hist-cb_hist-and-fm_hist-slots"><i class="fa fa-check"></i><b>7.1.7</b> The <code>SSB_hist</code>, <code>CB_hist</code>, and <code>FM_hist</code> Slots</a></li>
<li class="chapter" data-level="7.1.8" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-effort-slot"><i class="fa fa-check"></i><b>7.1.8</b> The <code>Effort</code> Slot</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#performance-metrics"><i class="fa fa-check"></i><b>7.2</b> Performance Metrics</a><ul>
<li class="chapter" data-level="7.2.1" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#the-need-for-performance-metrics"><i class="fa fa-check"></i><b>7.2.1</b> The Need for Performance Metrics</a></li>
<li class="chapter" data-level="7.2.2" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#inevitable-trade-offs"><i class="fa fa-check"></i><b>7.2.2</b> Inevitable Trade-Offs</a></li>
<li class="chapter" data-level="7.2.3" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#operational-management-objectives"><i class="fa fa-check"></i><b>7.2.3</b> Operational Management Objectives</a></li>
<li class="chapter" data-level="7.2.4" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#performance-metrics-in-the-dlmtool"><i class="fa fa-check"></i><b>7.2.4</b> Performance Metrics in the DLMtool</a></li>
<li class="chapter" data-level="7.2.5" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#developing-additional-performance-metrics"><i class="fa fa-check"></i><b>7.2.5</b> Developing Additional Performance Metrics</a></li>
<li class="chapter" data-level="7.2.6" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#summarizing-management-procedure-performance"><i class="fa fa-check"></i><b>7.2.6</b> Summarizing Management Procedure Performance</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#plotting-the-mse-results"><i class="fa fa-check"></i><b>7.3</b> Plotting the MSE Results</a><ul>
<li class="chapter" data-level="7.3.1" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#trade-off-plots"><i class="fa fa-check"></i><b>7.3.1</b> Trade-off Plots</a></li>
<li class="chapter" data-level="7.3.2" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#boxplot"><i class="fa fa-check"></i><b>7.3.2</b> Boxplot</a></li>
<li class="chapter" data-level="7.3.3" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#barplot"><i class="fa fa-check"></i><b>7.3.3</b> Barplot</a></li>
<li class="chapter" data-level="7.3.4" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#joint-probability-plot"><i class="fa fa-check"></i><b>7.3.4</b> Joint Probability Plot</a></li>
<li class="chapter" data-level="7.3.5" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#wormplot"><i class="fa fa-check"></i><b>7.3.5</b> Wormplot</a></li>
<li class="chapter" data-level="7.3.6" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#projection-plots"><i class="fa fa-check"></i><b>7.3.6</b> Projection Plots</a></li>
<li class="chapter" data-level="7.3.7" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#kobe-plots"><i class="fa fa-check"></i><b>7.3.7</b> Kobe Plots</a></li>
<li class="chapter" data-level="7.3.8" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#scatter-plots"><i class="fa fa-check"></i><b>7.3.8</b> Scatter Plots</a></li>
<li class="chapter" data-level="7.3.9" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#compare-to-current-conditions"><i class="fa fa-check"></i><b>7.3.9</b> Compare to Current Conditions</a></li>
<li class="chapter" data-level="7.3.10" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#list-the-mse-plotting-functions"><i class="fa fa-check"></i><b>7.3.10</b> List the MSE Plotting Functions</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#subsetting-the-mse-object"><i class="fa fa-check"></i><b>7.4</b> Subsetting the MSE Object</a><ul>
<li class="chapter" data-level="7.4.1" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#subsetting-by-performance"><i class="fa fa-check"></i><b>7.4.1</b> Subsetting by Performance</a></li>
<li class="chapter" data-level="7.4.2" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#subsetting-by-operating-model-parameters"><i class="fa fa-check"></i><b>7.4.2</b> Subsetting by Operating Model Parameters</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#value-of-information"><i class="fa fa-check"></i><b>7.5</b> Value of Information</a><ul>
<li class="chapter" data-level="7.5.1" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#observation-parameters"><i class="fa fa-check"></i><b>7.5.1</b> Observation Parameters</a></li>
<li class="chapter" data-level="7.5.2" data-path="examining-the-mse-object.html"><a href="examining-the-mse-object.html#operating-model-parameters"><i class="fa fa-check"></i><b>7.5.2</b> Operating Model Parameters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html"><i class="fa fa-check"></i><b>8</b> Managing Fishery Data</a><ul>
<li class="chapter" data-level="8.1" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#the-fishery-data-object-data"><i class="fa fa-check"></i><b>8.1</b> The Fishery Data Object (<code>Data</code>)</a><ul>
<li class="chapter" data-level="8.1.1" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#in-the-mse"><i class="fa fa-check"></i><b>8.1.1</b> In the MSE</a></li>
<li class="chapter" data-level="8.1.2" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#application-of-management-procedures-using-real-fisheries-data"><i class="fa fa-check"></i><b>8.1.2</b> Application of Management Procedures Using Real Fisheries Data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#example-data-objects"><i class="fa fa-check"></i><b>8.2</b> Example <code>Data</code> Objects</a></li>
<li class="chapter" data-level="8.3" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#creating-your-own-data-object"><i class="fa fa-check"></i><b>8.3</b> Creating Your Own <code>Data</code> Object</a><ul>
<li class="chapter" data-level="8.3.1" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#creating-a-csv-data-file"><i class="fa fa-check"></i><b>8.3.1</b> Creating a CSV Data File</a></li>
<li class="chapter" data-level="8.3.2" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#populating-a-data-object-in-r"><i class="fa fa-check"></i><b>8.3.2</b> Populating a <code>Data</code> Object in R</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#working-with-data-objects"><i class="fa fa-check"></i><b>8.4</b> Working With <code>Data</code> Objects</a></li>
<li class="chapter" data-level="8.5" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#applying-management-procedures"><i class="fa fa-check"></i><b>8.5</b> Applying Management Procedures</a><ul>
<li class="chapter" data-level="8.5.1" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#input-methods"><i class="fa fa-check"></i><b>8.5.1</b> <code>Input</code> Methods</a></li>
<li class="chapter" data-level="8.5.2" data-path="managing-fishery-data.html"><a href="managing-fishery-data.html#output-methods"><i class="fa fa-check"></i><b>8.5.2</b> <code>Output</code> Methods</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="custom-parameters.html"><a href="custom-parameters.html"><i class="fa fa-check"></i><b>9</b> Custom Parameters</a><ul>
<li class="chapter" data-level="9.1" data-path="custom-parameters.html"><a href="custom-parameters.html#valid-cpars-names"><i class="fa fa-check"></i><b>9.1</b> Valid cpars names</a></li>
<li class="chapter" data-level="9.2" data-path="custom-parameters.html"><a href="custom-parameters.html#correlated-samples"><i class="fa fa-check"></i><b>9.2</b> Correlated samples</a></li>
<li class="chapter" data-level="9.3" data-path="custom-parameters.html"><a href="custom-parameters.html#custom-time-varying-parameters"><i class="fa fa-check"></i><b>9.3</b> Custom time-varying parameters</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="size-specific-natural-mortality.html"><a href="size-specific-natural-mortality.html"><i class="fa fa-check"></i><b>10</b> Size-Specific Natural Mortality</a><ul>
<li class="chapter" data-level="10.1" data-path="size-specific-natural-mortality.html"><a href="size-specific-natural-mortality.html#constant-m-at-agesize"><i class="fa fa-check"></i><b>10.1</b> Constant M at age/size</a></li>
<li class="chapter" data-level="10.2" data-path="size-specific-natural-mortality.html"><a href="size-specific-natural-mortality.html#lorenzen-function-of-weight"><i class="fa fa-check"></i><b>10.2</b> Lorenzen function of weight</a></li>
<li class="chapter" data-level="10.3" data-path="size-specific-natural-mortality.html"><a href="size-specific-natural-mortality.html#map-age-specific-m"><i class="fa fa-check"></i><b>10.3</b> Map Age-Specific M</a></li>
<li class="chapter" data-level="10.4" data-path="size-specific-natural-mortality.html"><a href="size-specific-natural-mortality.html#map-length-specific-m"><i class="fa fa-check"></i><b>10.4</b> Map Length-Specific M</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="selection-retention-and-discard-mortality.html"><a href="selection-retention-and-discard-mortality.html"><i class="fa fa-check"></i><b>11</b> Selection, Retention and Discard Mortality</a><ul>
<li class="chapter" data-level="11.1" data-path="selection-retention-and-discard-mortality.html"><a href="selection-retention-and-discard-mortality.html#fishery-selection-curve"><i class="fa fa-check"></i><b>11.1</b> Fishery Selection Curve</a></li>
<li class="chapter" data-level="11.2" data-path="selection-retention-and-discard-mortality.html"><a href="selection-retention-and-discard-mortality.html#fishery-retention-curve"><i class="fa fa-check"></i><b>11.2</b> Fishery Retention Curve</a></li>
<li class="chapter" data-level="11.3" data-path="selection-retention-and-discard-mortality.html"><a href="selection-retention-and-discard-mortality.html#discard-mortality"><i class="fa fa-check"></i><b>11.3</b> Discard Mortality</a></li>
<li class="chapter" data-level="11.4" data-path="selection-retention-and-discard-mortality.html"><a href="selection-retention-and-discard-mortality.html#general-discarding"><i class="fa fa-check"></i><b>11.4</b> General Discarding</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html"><i class="fa fa-check"></i><b>12</b> Assumptions of DLMtool</a><ul>
<li class="chapter" data-level="12.1" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#biology"><i class="fa fa-check"></i><b>12.1</b> Biology</a><ul>
<li class="chapter" data-level="12.1.1" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#short-lived-species"><i class="fa fa-check"></i><b>12.1.1</b> Short-Lived Species</a></li>
<li class="chapter" data-level="12.1.2" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#density-dependent-compensation"><i class="fa fa-check"></i><b>12.1.2</b> Density-Dependent Compensation</a></li>
<li class="chapter" data-level="12.1.3" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#von-bertalanffy-growth"><i class="fa fa-check"></i><b>12.1.3</b> von Bertalanffy Growth</a></li>
<li class="chapter" data-level="12.1.4" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#natural-mortality-rate-at-age"><i class="fa fa-check"></i><b>12.1.4</b> Natural Mortality Rate at Age</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#mse-model-assumptions"><i class="fa fa-check"></i><b>12.2</b> MSE Model Assumptions</a><ul>
<li class="chapter" data-level="12.2.1" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#idealised-observation-models-for-catch-composition-data"><i class="fa fa-check"></i><b>12.2.1</b> Idealised Observation Models for Catch Composition Data</a></li>
<li class="chapter" data-level="12.2.2" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#discard-mortality-1"><i class="fa fa-check"></i><b>12.2.2</b> Discard Mortality</a></li>
<li class="chapter" data-level="12.2.3" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#two-box-model"><i class="fa fa-check"></i><b>12.2.3</b> Two-Box Model</a></li>
<li class="chapter" data-level="12.2.4" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#ontogenetic-habitat-shifts"><i class="fa fa-check"></i><b>12.2.4</b> Ontogenetic Habitat Shifts</a></li>
<li class="chapter" data-level="12.2.5" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#closed-system"><i class="fa fa-check"></i><b>12.2.5</b> Closed System</a></li>
<li class="chapter" data-level="12.2.6" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#marine-protected-areas-mpa"><i class="fa fa-check"></i><b>12.2.6</b> Marine Protected Areas (MPA)</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#management-procedures"><i class="fa fa-check"></i><b>12.3</b> Management Procedures</a><ul>
<li class="chapter" data-level="12.3.1" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#harvest-control-rules-must-be-integrated-into-data-limited-mps"><i class="fa fa-check"></i><b>12.3.1</b> Harvest Control Rules Must be Integrated into Data-Limited MPs</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#data-and-method-application"><i class="fa fa-check"></i><b>12.4</b> Data and Method Application</a><ul>
<li class="chapter" data-level="12.4.1" data-path="assumptions-of-dlmtool.html"><a href="assumptions-of-dlmtool.html#data-assumed-to-be-representative"><i class="fa fa-check"></i><b>12.4.1</b> Data Assumed to be Representative</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>13</b> References</a></li>
<li class="divider"></li>
<li><a href="http://www.datalimitedfisheries.com" target="blank">DLMtool Website</a></li>
<li><a href="../index.html">DLMtool Documentation</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data-Limited Methods Toolkit (DLMtool)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="setupOM" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Setting up the MSE Operating Model</h1>
<div id="overview" class="section level2">
<h2><span class="header-section-number">4.1</span> Overview</h2>
<p>The Operating Model (OM) is the main component of the MSE framework. The OM is used to simulate the population and fleet dynamics, the collection of data, and the application of a harvest control rule.</p>
<p>The class <em>OM</em> is used to define the parameters for the operating model. Remember, for help on classes you can type <code>class</code> followed by ? and the class name. For example, to see the help file for the <em>OM</em> class, type the following into the R console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">class?OM</code></pre></div>
</div>
<div id="the-operating-model-object" class="section level2">
<h2><span class="header-section-number">4.2</span> The Operating Model Object</h2>
<p>Objects of class <em>OM</em> contain all of the parameters required to run the MSE. Because this is a simulation, there must be values for all parameters.</p>
<p>You can see from the help file (<code>class?OM</code>) that objects of class <em>OM</em> can be constructed by using the <code>new()</code> function, and are built from four objects:</p>
<ol style="list-style-type: decimal">
<li>Stock,</li>
<li>Fleet,<br />
</li>
<li>Obs (Observation) and</li>
<li>Imp (Implementation)</li>
</ol>
<p><strong><em>Stock</em></strong>, <strong><em>Fleet</em></strong>, <strong><em>Obs</em></strong> and <strong><em>Imp</em></strong> are all classes in the DLMtool, and, as the names suggest, contain the parameters for the fish stock, the fishing fleet, the observations of the data, and the implementation of the management recommendations respectively.</p>
<p>The <em>Stock</em>, <em>Fleet</em>, <em>Obs</em>, and <em>Imp</em> objects are contained within separate parameter tables, which are stitched together to form the <em>Operating Model</em> parameters.</p>
<p>You can look at the help files for each the these three classes for information on the <strong>slots</strong> for each object. Here we will briefly go through the contents of each.</p>
<div id="stock-object" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Stock Object</h3>
<p>First we will look at the contents of the <em>Stock</em> object. There are a number of stocks built into the DLMtool, and we will explore one of these. Later we will look at how to develop our own <em>Stock</em> objects, or modify an existing <em>Stock</em> object.</p>
<p>One of the <em>Stock</em> objects that is built into the DLMtool is <code>Albacore</code>.<br />
If you type <code>Albacore</code> into the R console (or into your R script and click <em>Run</em>) you will see a large amount of information printed out in the R console.</p>
<p>Let’s take a look at the contents of the Albacore Stock object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">slotNames</span>(Albacore)</code></pre></div>
<pre><code>##  [1] &quot;Name&quot;         &quot;maxage&quot;       &quot;R0&quot;           &quot;M&quot;           
##  [5] &quot;M2&quot;           &quot;Mexp&quot;         &quot;Msd&quot;          &quot;Mgrad&quot;       
##  [9] &quot;h&quot;            &quot;SRrel&quot;        &quot;Perr&quot;         &quot;AC&quot;          
## [13] &quot;recgrad&quot;      &quot;Period&quot;       &quot;Amplitude&quot;    &quot;Linf&quot;        
## [17] &quot;K&quot;            &quot;t0&quot;           &quot;LenCV&quot;        &quot;Ksd&quot;         
## [21] &quot;Kgrad&quot;        &quot;Linfsd&quot;       &quot;Linfgrad&quot;     &quot;L50&quot;         
## [25] &quot;L50_95&quot;       &quot;D&quot;            &quot;a&quot;            &quot;b&quot;           
## [29] &quot;Size_area_1&quot;  &quot;Frac_area_1&quot;  &quot;Prob_staying&quot; &quot;Fdisc&quot;       
## [33] &quot;Source&quot;</code></pre>
<p>The output tells us that there are 33 slots in the <code>Albacore</code> Stock object. Each of these slots contains information relating to stock that is used in the MSE.</p>
<p>We can examine the information that is stored in the slots using the @ symbol. For example, the name of the species in the Stock object is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Albacore@Name</code></pre></div>
<pre><code>## [1] &quot;Albacore&quot;</code></pre>
<p>The maximum age parameter is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Albacore@maxage </code></pre></div>
<pre><code>## [1] 15</code></pre>
<p>The values for the natural mortality (<em>M</em>) parameter for this stock are:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Albacore@M</code></pre></div>
<pre><code>## [1] 0.35 0.45</code></pre>
<p>Note that the natural mortality parameter (<em>M</em>) has two values, while the maximum age (<em>maxage</em>) only has one value.</p>
<p>The MSE in the DLMtool is a stochastic model, and almost all parameters are drawn from a distribution. By default this distribution is assumed to be uniform, and the two values for the <em>M</em> parameter represent the lower and upper bounds of this uniform distribution.</p>
<p>Some parameters, such as maximum age (<em>maxage</em>), species name (<em>Name</em>), or initial recruitment (<em>R0</em>) have only a single value and are fixed in the MSE.</p>
<p>You can see more information on the content of the <em>Stock</em> object by using the help function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">class?Stock</code></pre></div>
</div>
<div id="fleet-object" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Fleet Object</h3>
<p>While the <em>Stock</em> object contains all the information relating to the fish stock that is being modeled, the <em>Fleet</em> object is populated with information relating to the fishing fleet and historical pattern of exploitation.</p>
<p>Like the <em>Stock</em> objects, there are a number of <em>Fleet</em> objects that are built into the DLMtool. Here we will look at the <code>Generic_Fleet</code> object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">slotNames</span>(Generic_Fleet)</code></pre></div>
<pre><code>##  [1] &quot;Name&quot;        &quot;nyears&quot;      &quot;Spat_targ&quot;   &quot;EffYears&quot;    &quot;EffLower&quot;   
##  [6] &quot;EffUpper&quot;    &quot;Esd&quot;         &quot;qinc&quot;        &quot;qcv&quot;         &quot;L5&quot;         
## [11] &quot;LFS&quot;         &quot;Vmaxlen&quot;     &quot;isRel&quot;       &quot;LR5&quot;         &quot;LFR&quot;        
## [16] &quot;Rmaxlen&quot;     &quot;DR&quot;          &quot;SelYears&quot;    &quot;AbsSelYears&quot; &quot;L5Lower&quot;    
## [21] &quot;L5Upper&quot;     &quot;LFSLower&quot;    &quot;LFSUpper&quot;    &quot;VmaxLower&quot;   &quot;VmaxUpper&quot;  
## [26] &quot;CurrentYr&quot;</code></pre>
<p>There are 26 slots in the <em>Fleet</em> object. The parameters in the <em>Fleet</em> object relate to the exploitation pattern of the stock.</p>
<p>For example, the number of years that the stock has been exploited is specified in the <code>nyears</code> slot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Generic_Fleet@nyears</code></pre></div>
<pre><code>## [1] 50</code></pre>
<p>As another example, the smallest length at full selection is specified in the <code>LFS</code> slot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Generic_Fleet@LFS</code></pre></div>
<pre><code>## [1] 0.75 1.10</code></pre>
<p>Note that by default the values in the <code>LFS</code> (and the <code>L5</code> [smallest length at 5% selectivity]) slots are specified as multiples of the length of maturity (e.g., <code>Albacore@L50</code>). This is necessary because the <em>Fleet</em> objects built into the DLMtool are all generic, in the sense that they can be used with any <em>Stock</em> object.</p>
<p>You will notice that the <code>isRel</code> slot in the <code>Generic_Fleet</code> object is set to “TRUE”. This means that the selectivity parameters are relative to the length of maturity in the <em>Stock</em> object. Absolute values for the selectivity parameters can be used, for example by specifying <code>LFS</code> and <code>L5</code> to, say, 100 - 150 and 50 - 70 respectively. The <code>isRel</code> parameter must then be set to “FALSE”, so that the Operating Model knows that these selectivity values are in absolute terms, and does not multiply them by the length of maturity (strange things may happen if the model assumes that the size of first capture is 50 to 70 times greater than the size of maturity!).</p>
<p>Note that all the parameters in the <em>Fleet</em> object have two values, representing the minimum and maximum bounds of a uniform distribution (with some exceptions that will be discussed in more detail later).</p>
<p>More information on the <em>Fleet</em> object can be found by typing:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">class?Fleet</code></pre></div>
</div>
<div id="observation-object" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Observation Object</h3>
<p>The third component for the <em>Operating Model</em> is the <em>Obs</em> object. This object contains all the information relating to how the fishery information is generated inside the model.</p>
<p>Why do we need a <em>Obs</em> table?</p>
<p>Although the MSE may be conditioned on real data and information about the fishery, all <em>data</em> is generated inside the model. Because it is a simulation model and the data was generated by a computer, rather than some unobserved real world process, the <em>fishery data</em> is known perfectly.In the real world, however, all data sources and parameter estimates are subject to some observation error. The degree of uncertainty may vary between different data types, and between different data-limited fisheries.</p>
<p>The advantage of the MSE process is that the performance of a management procedure using the realistically noisy simulated data can be compared to the performance under conditions of perfect knowledge. This comparison, which unfortunately is never possible in the real world, can reveal important information about the robustness (or sensitivity) of certain methods to variability and error in particular data types. This knowledge can help to prioritize research to reduce uncertainty in the parameters and data sets that are most crucial to the performance of the method.</p>
<p>Like the other two objects, there are a number of built-in <em>Obs</em> objects in the DLMtool.</p>
<p>Let’s take a look at the <code>Imprecise_Unbiased</code> object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">slotNames</span>(Imprecise_Unbiased)</code></pre></div>
<pre><code>##  [1] &quot;Name&quot;       &quot;Cobs&quot;       &quot;Cbiascv&quot;    &quot;CAA_nsamp&quot;  &quot;CAA_ESS&quot;   
##  [6] &quot;CAL_nsamp&quot;  &quot;CAL_ESS&quot;    &quot;CALcv&quot;      &quot;Iobs&quot;       &quot;Icv&quot;       
## [11] &quot;Btcv&quot;       &quot;Btbias&quot;     &quot;beta&quot;       &quot;LenMcv&quot;     &quot;Mcv&quot;       
## [16] &quot;Kcv&quot;        &quot;t0cv&quot;       &quot;Linfcv&quot;     &quot;LFCcv&quot;      &quot;LFScv&quot;     
## [21] &quot;FMSYcv&quot;     &quot;FMSY_Mcv&quot;   &quot;BMSY_B0cv&quot;  &quot;Irefcv&quot;     &quot;Crefcv&quot;    
## [26] &quot;Brefcv&quot;     &quot;Dbiascv&quot;    &quot;Dcv&quot;        &quot;hcv&quot;        &quot;Reccv&quot;     
## [31] &quot;B0cv&quot;       &quot;rcv&quot;        &quot;Fcurbiascv&quot; &quot;Fcurcv&quot;     &quot;maxagecv&quot;</code></pre>
<p>There are 35 slots in <em>Obs</em> objects, each with information relating to the uncertainty of a data type.</p>
<p>For example, the <code>LenMcv</code> slot defines the uncertainty (coefficient of variability) in the length of maturity:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Imprecise_Biased@LenMcv</code></pre></div>
<pre><code>## [1] 0.2</code></pre>
<p>This means that the assumed length of maturity that is generated by the Operating Model, and used in the simulated application of a management procedure, is not the ‘true’ value set in the <em>Stock</em> object, but a value sampled with a 20% coefficient of variation.</p>
<p>More information on the <em>Obs</em> object can be found by typing:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">class?Obs</code></pre></div>
</div>
<div id="implementation-object" class="section level3">
<h3><span class="header-section-number">4.2.4</span> Implementation Object</h3>
<p>The final component for the <em>Operating Model</em> is the <em>Imp</em> object. This object contains all the information relating to how the management recommendation is actually implemented in the fishery, i.e., the implementation error. The <code>Imp</code> object includes slots for the over or under catch of TAC, implementation error in total allowable effort, and variability in size limits.</p>
<p>The <code>Imp</code> object is a recent addition to DLMtool and may be expanded in future developments.</p>
<p>More information on the <em>Imp</em> object can be found by typing:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">class?Imp</code></pre></div>
</div>
<div id="important-changes---dlmtool-v4.1-and-greater" class="section level3">
<h3><span class="header-section-number">4.2.5</span> Important changes - DLMtool V4.1 and greater</h3>
<p>DLMtool V4.1 introduced some important changes to the Operating Model object. The number of simulations (<code>nsim</code>) and the number of projection years (<code>proyears</code>) are now slots in the <code>OM</code> object, rather than arguments to <code>runMSE</code> (see <a href="MSE.html#MSE">Management Strategy Evaluation</a>). This change was required to allow users to specify their own custom futures for parameters like <em>M</em>, growth, etc. The <code>OM</code> object also now has a new random seed slot in the operating model, which ensures that the MSE results are now exactly reproducible.</p>
<p>You can modify the number of simulations, the number of projection years, or the value of the random seed by modifiying the relevant slots in the <code>OM</code> object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myOM@nsim 
myOM@proyears
myOM@seed</code></pre></div>
</div>
<div id="important-changes---dlmtool-v4.5-and-greater" class="section level3">
<h3><span class="header-section-number">4.2.6</span> Important changes - DLMtool V4.5 and greater</h3>
<p>Since DLMtool V4.5 the following slots have been added to the OM object:</p>
<ul>
<li><code>OM@interval</code></li>
<li><code>OM@pstar</code></li>
<li><code>OM@maxF</code></li>
<li><code>OM@reps</code></li>
</ul>
<p>This was done so that an OM object is completely self-contained and includes all information used in the MSE.</p>
</div>
</div>
<div id="existing-stock-fleet-obs-and-imp-objects" class="section level2">
<h2><span class="header-section-number">4.3</span> Existing Stock, Fleet, Obs, and Imp Objects</h2>
<p>As mentioned earlier, there are several <em>Stock</em>, <em>Fleet</em>, <em>Obs</em> and <em>Imp</em> objects that are built into the DLMtool. A list of available <em>Stock</em>, <em>Fleet</em>, <em>Obs</em>, and <em>Imp</em> objects can be found using the <code>avail</code> function.</p>
<p>For example, here we will print out a list of the 12 <em>Stock</em> objects that are built into the DLMtool:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">avail</span>(<span class="st">&quot;Stock&quot;</span>)</code></pre></div>
<pre><code>##  [1] &quot;Albacore&quot;          &quot;Blue_shark&quot;        &quot;Bluefin_tuna&quot;     
##  [4] &quot;Bluefin_tuna_WAtl&quot; &quot;Butterfish&quot;        &quot;Herring&quot;          
##  [7] &quot;Mackerel&quot;          &quot;Porgy&quot;             &quot;Rockfish&quot;         
## [10] &quot;Snapper&quot;           &quot;Sole&quot;              &quot;Toothfish&quot;</code></pre>
<p>We can do the same thing for the <em>Fleet</em> objects (<code>avail(&quot;Fleet&quot;)</code>), the <em>Obs</em> objects (<code>avail(&quot;Obs&quot;)</code>), and the <em>Imp</em> objects (<code>avail(&quot;Imp&quot;)</code>).</p>
</div>
<div id="recommended-method-for-creating-the-operating-model-object" class="section level2">
<h2><span class="header-section-number">4.4</span> Recommended Method for Creating the Operating Model Object</h2>
<p>DLMtool V4.5 introduced a standardised system for initializing, populating, documenting, and importing OM objects.</p>
<p>The figure below shows our recommended workflow for importing an Operating Model (OM) into DLMtool:</p>
<p><img src="images/OMinitWorkflow.png" /><!-- --></p>
<div id="set-working-directory" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Set Working Directory</h3>
<p>We recommend creating a new directory for each OM. Each new R session should start by setting the working directory to this location. One of the easiest ways to do this is to create a new project in RStudio (File &gt; New Project) and open this each time you revisit the analysis.</p>
<p>Alternatively, you can set the working directory with RStudio (Session &gt; Set Working Directory) or directly in the R console, for example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setwd</span>(<span class="st">&quot;C:/MSE/MyOM&quot;</span>)</code></pre></div>
</div>
<div id="initialize-a-new-om" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Initialize a New OM</h3>
<p>The <code>OMinit</code> function is used to create a blank OM spreadsheet and a skeleton OM documentation file in the working directory. This is only required the first time a new OM is created.</p>
<p>The <code>OMinit</code> function requires one argument, a name for the OM, and wil create two files in the working directory. For example <code>OMinit('MyOM')</code> will create <em>MyOM.xlsx</em> and <em>MyOM_source.rmd</em> in the working directory.</p>
<p><em>MyOM.xlsx</em> is a spreadsheet with sheets corresponding to the components of an OM: <em>Stock</em>, <em>Fleet</em>, <em>Obs</em>, and <em>Imp</em>, and <em>OM</em> and <em>Data</em> sheets. The first column in each sheet is populated with the names of the slots of the respective objects (Stock, Fleet, etc) and all slots are empty (except the <em>OM</em> sheet which has default values).</p>
<p>The <em>MyOM_source.rmd</em> file can be opened in any text editor or RStudio, and contains a skeleton for the OM documentation.</p>
<p>More details on populating both these files are provided in the <a href="setupOM.html#populate-and-document-om">Populate and Document OM</a> section below.</p>
</div>
<div id="create-source-documentation-for-existing-om" class="section level3">
<h3><span class="header-section-number">4.4.3</span> Create Source Documentation for Existing OM</h3>
<p>For existing OMs without documentation, the <code>OMinit</code> function can be used to create just the source documentation file in the working directory:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">OMinit</span>(<span class="st">&#39;MyOM&#39;</span>, <span class="st">`</span><span class="dt">rmd</span><span class="st">`</span>)</code></pre></div>
<div id="using-templates" class="section level4">
<h4><span class="header-section-number">4.4.3.1</span> Using Templates</h4>
<p>Some users may wish to build an operating model based on other pre-existing Stock, Fleet, Obs, or Imp objects. This can be done by using the <code>templates</code> argument in <code>OMinit</code>.</p>
<p>The <code>templates</code> argument requires a named list specifying the names of the objects to be used as templates.</p>
<p>For example, <code>OMinit('Albacore2', templates=list(Stock=Albacore))</code> will result in a <em>Albacore2.xlsx</em> file being created with the <em>Stock</em> sheet populated with the values from the <em>Albacore</em> Stock object.</p>
<p>Other examples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">OMinit</span>(<span class="st">&#39;StockAndFleet&#39;</span>, <span class="dt">templates=</span><span class="kw">list</span>(<span class="dt">Stock=</span>Albacore, <span class="dt">Fleet=</span>Generic_FlatE))

<span class="kw">OMinit</span>(<span class="st">&#39;ObsAndImp&#39;</span>, <span class="dt">templates=</span><span class="kw">list</span>(<span class="dt">Obs=</span>Generic_Obs, <span class="dt">Imp=</span>Perfect_Imp))</code></pre></div>
</div>
</div>
<div id="populate-and-document-om" class="section level3">
<h3><span class="header-section-number">4.4.4</span> Populate and Document OM</h3>
<p>The OM is populated by adding values for each slot into the Excel spreadsheet.</p>
<p>To assist in documenting the rationale for the OM parameters, we recommended adding a short but informative description or rationale for the OM values in the *_source.rmd* file while the OM Excel file is being populated (open the rmd file and edit with any text editor or RStudio). Once complete, the *_source.rmd* file can be compiled into a HTML report and provides a complete documentation for the OM.</p>
<p>The *_source.rmd* file also contains additional information including a title for the OM report, author details, and an introduction section for additional information on the OM.</p>
<p>Instructions for completing the OM documentation are provided in *_source.rmd* file.</p>
<p>The OM documentation file should be updated whenever values in the OM are changed.</p>
</div>
<div id="compile-om-report-from-excel" class="section level3">
<h3><span class="header-section-number">4.4.5</span> Compile OM Report from Excel</h3>
<p>Once the OM has been specified in the spreadsheet and documented in the *_source.rmd* file, it can be compiled into a OM Report using the <code>OMdoc</code> function.</p>
<p>The <code>OMdoc</code> function</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">OMdoc</span>(<span class="st">&#39;MyOM&#39;</span>)</code></pre></div>
<p>In most cases it is not neccessary to provide the name of the *_source.rmd* file to <code>OMdoc</code>. By default the <code>OMdoc</code> function will look for the <em>rmd</em> file in working directory. For example, if the Excel file is named <em>MyOM</em> then <code>OMdoc</code> will look for <em>MyOM_source.rmd</em>, which is default name created by <code>OMinit</code>.</p>
<p>Additionally, if there is only one <em>xlsx</em> file in the working directory the name of the OM is not required, i.e., <code>OMdoc()</code>.</p>
<p>Depending on the OM (particularly number of simulations (<code>nsim</code>) and maximum age (<code>maxage</code>)), this may take some time as the historical simulations are run.</p>
<p>The resulting <em>MyOM.html</em> can opened in any web browser. It may also be possible to compile the OM report into a pdf (using <code>output=&quot;pdf_document&quot;</code>) though this may require additional software.</p>
</div>
<div id="import-om-from-excel" class="section level3">
<h3><span class="header-section-number">4.4.6</span> Import OM from Excel</h3>
<p>The OM can be imported from the Excel file using the <code>XL2OM</code> function.</p>
<p>For example, to import the example OM created in the previous section:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">OM &lt;-<span class="st"> </span><span class="kw">XL2OM</span>(<span class="st">&#39;Example_Chile_hake&#39;</span>)</code></pre></div>
</div>
</div>
<div id="other-methods-to-import-om" class="section level2">
<h2><span class="header-section-number">4.5</span> Other Methods to Import OM</h2>
<p>Previous versions of DLMtool required the <code>new</code> command to create OM objects. This method is still available and is described in this section.</p>
<p>Here we will create a Operating Model object called <code>myOM</code>, and use the <code>Blue_shark</code> <em>Stock</em> object, the <code>Generic_Fleet</code> <em>Fleet</em> object, the <code>Imprecise_Biased</code> <em>Observation</em> object, and the default <code>Perfect_Imp</code> <em>Imp</em> object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">BlueSharkOM &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&#39;OM&#39;</span>, Blue_shark, Generic_Fleet, Imprecise_Biased, Perfect_Imp)</code></pre></div>
<p>If you use the <code>slotNames</code> function on the <code>myOM</code> object that was just created, you will see that it contains all of the information from the <em>Stock</em>, <em>Fleet</em>, <em>Obs</em>, and <em>Imp</em> objects.</p>
<div id="compile-om-report-from-om" class="section level3">
<h3><span class="header-section-number">4.5.1</span> Compile OM Report from OM</h3>
<p>The <code>OMdoc</code> function can be used to generate an OM report directly from an OM object and an *_source.rmd* file. In this case it is necessary to provide the name of the *_source.rmd* file to <code>OMdoc</code>. For example, here we create an OM using existing objects from DLMtool, generate the *_source.rmd* documentation skeleton (only required once), and compile the OM report:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">BlueSharkOM &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&#39;OM&#39;</span>, Blue_shark, Generic_Fleet, Imprecise_Biased, Perfect_Imp) <span class="co"># create/import an OM</span>
<span class="kw">OMinit</span>(<span class="st">&#39;BlueSharkOM&#39;</span>, <span class="st">&#39;rmd&#39;</span>, <span class="dt">templates=</span><span class="kw">list</span>(<span class="dt">Stock=</span>Blue_shark, <span class="dt">Fleet=</span>Generic_Fleet, <span class="dt">Obs=</span>Imprecise_Biased, <span class="dt">Imp=</span>Perfect_Imp))
<span class="co"># - Enter OM details in BlueSharkOM_source.rmd - </span>
<span class="kw">OMdoc</span>(BlueSharkOM, <span class="st">&#39;BlueSharkOM_source.rmd&#39;</span>)</code></pre></div>
<div id="example-documentation" class="section level4">
<h4><span class="header-section-number">4.5.1.1</span> Example Documentation</h4>
<p>An example of the OM documentation may be useful.</p>
<p>The following command creates example (already populated) <em>Example_Chile_hake.xlsx</em> and <em>Example_Chile_hake_source.rmd</em> files:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">OMinit</span>(<span class="st">&#39;example&#39;</span>, <span class="dt">overwrite =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>Each slot in the OM Excel file has been populated and a rationale provided for each slot in the documentation source file.</p>
<p>The OM documentation can be compiled:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">OMdoc</span>(<span class="st">&#39;Example_Chile_hake&#39;</span>)</code></pre></div>
</div>
</div>
</div>
<div id="customizing-the-operating-model" class="section level2">
<h2><span class="header-section-number">4.6</span> Customizing the Operating Model</h2>
<p>We have now created or imported a <em>Operating Model</em> object and can begin the MSE. If you wish, you can jump ahead to the <a href="MSE.html#MSE">Management Strategy Evaluation</a> section (although you may wish to read the <a href="assumptions-of-dlmtool.html#management-procedures">Management Procedures</a> section first).</p>
<p>The remainder of this section will describe how to modify the existing <em>Stock</em>, <em>Fleet</em>, <em>Obs</em>, and <em>Imp</em> objects, as well as create new objects.</p>
<p>The pre-defined <em>Stock</em>, <em>Fleet</em>, <em>Obs</em>, and <em>Imp</em> objects in DLMtool can be used for running an MSE and exploring the output. More often, however, users of the DLMtool will be interested in performing an MSE for their own particular fishery.</p>
<p>To do this, the parameters of the <em>Operating Model</em> (or more specifically the <em>Stock</em>, <em>Fleet</em>, <em>Obs</em> and <em>Imp</em> objects from which it is built) must be specified in such a way that reflects the characteristics of the fishery.</p>
<p>There are a number of ways of doing this.</p>
<div id="creating-new-objects" class="section level3">
<h3><span class="header-section-number">4.6.1</span> Creating New Objects</h3>
<p>One method is to create empty <em>Stock</em>, <em>Fleet</em>, <em>Obs</em>, and <em>Imp</em> objects and manually populate them. This can be done using the <code>new</code> command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myStock &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;Stock&quot;</span>)
myFleet &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;Fleet&quot;</span>)
myObservation &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;Obs&quot;</span>)
myImp &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;Imp&quot;</span>)</code></pre></div>
<p>This code creates new <em>Stock</em>, <em>Fleet</em>, <em>Obs</em>, and <em>Imp</em> objects that are empty and contain no information.</p>
<p>You can check this by looking at a slot in one of the objects, for example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myStock@M</code></pre></div>
<pre><code>## numeric(0)</code></pre>
<p>The object can then be manually populated. For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myStock@M &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.1</span>, <span class="fl">0.25</span>)</code></pre></div>
<p>Here we set value of the natural mortality parameter (<code>M</code>) to range from 0.1 to 0.25.</p>
<p>The MSE requires values for each parameter (or slot) in the Operating Model object, and the three objects that were just created would have to be manually populated.</p>
<p>This is possible to do, but perhaps a little tedious. More importantly, it is easy to introduce errors using this method.</p>
<p>For example, let’s try to populate the slot that contains information on the asymptotic size (<code>Linf</code>)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myStock@Linf &lt;-<span class="st"> </span><span class="dv">100</span></code></pre></div>
<p>This seemed to work okay. However, if we try to run an MSE using this <em>Stock</em> object we will be confronted with an error. This is because the Operating Model requires <strong>two</strong> values (lower and upper bounds) for the <code>Linf</code> parameter. The DLMtool isn’t smart enough (yet!) to detect this error before it is too late.</p>
</div>
<div id="importing-objects-from-a-csv-file" class="section level3">
<h3><span class="header-section-number">4.6.2</span> Importing Objects from a CSV File</h3>
<p>There may be cases where creating a blank object is useful. More likely, however, is that users will import an object from a file, or modify a built-in object.</p>
<p>This can be done by using the <code>new</code> command and specifying the location of a comma-separated-variable (CSV) file that contains the relevant information.</p>
<div id="importing-a-stock-object" class="section level4">
<h4><span class="header-section-number">4.6.2.1</span> Importing a Stock Object</h4>
<p>If we have a CSV file named <em>MyStock.csv</em> and stored in the directory <em>CSVs</em> (located within the working directory), we can import the <em>Stock</em> object using the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myStock &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;Stock&quot;</span>, <span class="st">&quot;CSVs/MyStock.csv&quot;</span>)</code></pre></div>
<p>The <code>myStock</code> object is now populated with the contents of the <em>MyStock.csv</em> (You may notice it is almost identical to the <code>Albacore</code> object that is in the DLMtool).</p>
<p>To import objects in this way, the CSV file must be set up in a specific format. The image below shows the contents of the <em>MyStock</em> CSV file. The first column contains the names of the slots in the <em>Stock</em> object. It is important that the text in the first column of the CSV file is <em>exactly</em> the same as the names slot of the slots in the <em>Stock</em> object (you can use <code>slotNames</code> to check this).</p>
<p>The second and third columns contain the values for each parameter. Note that some parameters, such as the length-weight relationship parameters (<code>a</code> and <code>b</code>), the maximum age (<code>maxage</code>), and the initial recruitment (<code>R0</code>) only require a single value.</p>
<p><img src="images/Stock2.png" /><!-- --></p>
<p>Click <a href="images/Stock.png">here</a> for a larger version of the image.</p>
</div>
<div id="importing-a-fleet-object" class="section level4">
<h4><span class="header-section-number">4.6.2.2</span> Importing a Fleet Object</h4>
<p>A <em>Fleet</em> object can be imported in a similar way:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myFleet &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;Fleet&quot;</span>, <span class="st">&quot;CSVs/myFleet.csv&quot;</span>)</code></pre></div>
<p>Note here again that the text in the first column must exactly match the names of the slots in the <em>Fleet</em> object.</p>
<p><img src="images/Fleet2.PNG" /><!-- --></p>
<p>Click <a href="images/Fleet.png">here</a> for a larger version of the image.</p>
<p><strong>Note:</strong> If the DLMtool cannot find the CSV file in the specified directory, a warning message will appear and a blank object will be created.</p>
</div>
<div id="importing-an-observation-object" class="section level4">
<h4><span class="header-section-number">4.6.2.3</span> Importing an Observation Object</h4>
<p>To import a <em>Obs</em> object from a CSV file you follow the same procedure:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myObs &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;Obs&quot;</span>, <span class="st">&quot;CSVs/myObs.csv&quot;</span>)</code></pre></div>
<p>Note, however, that the <em>Obs</em> object is large (35 parameters) and it is often easiest to modify an existing <em>Obs</em> object.</p>
<p>We can now stitch the four objects together into a new Operating Model:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myOM &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;OM&quot;</span>, myStock, myFleet, myObs, myImp)</code></pre></div>
<p>By default the <code>new(&quot;OM&quot;)</code> command includes the <code>Perfect_Imp</code> Imp object.</p>
<!-- #### Creating an Operating Model from an Excel File -->
<!-- Sometimes, especially if you are conducting MSEs on a number of species, it is easier to have all of the parameters stored in a single Excel file.  This file can be imported directly as a *Operating Model* object. -->
<!-- The *Stock*, *Fleet*, *Obs*, and *Imp* parameters are structured exactly the same as described above, but here they are in separate tabs of a single spreadsheet rather than separate CSV files. -->
<!-- The naming of the tabs for the Excel file is important.  The names of the three tabs relating to the *Stock*, *Fleet*, *Obs*, "*Imp* parameters must share a prefix followed by "Stock", "Fleet", "Obs", "Imp" respectively.  See the image below for an example. -->
<!-- ```{r, echo=FALSE} -->
<!-- knitr::include_graphics("images/XL2.png") -->
<!-- ``` -->
<!-- Click [here](images/XL.png) for a larger version of the image. -->
<!-- In this example we have two sets of parameters, imaginatively named "Example1" and "Example2". -->
<!-- To create *Operating Model* objects from this file we use the following command: -->
<!-- ```{r} -->
<!-- Example1OM <- OM_xl("CSVs/myXL.xlsx", "Example1") -->
<!-- Example2OM <- OM_xl("CSVs/myXL.xlsx", "Example2") -->
<!-- ``` -->
</div>
</div>
</div>
<div id="modifying-existing-objects" class="section level2">
<h2><span class="header-section-number">4.7</span> Modifying Existing Objects</h2>
<p>Often the simplest way to creating a custom <em>Operating Model</em> object is to modify the existing objects in the DLMtool.</p>
<p>For example, suppose we wish to do a MSE for a species that we know has a similar life history to herring. Using the existing <code>Herring</code> <em>Stock</em> object is a good place to start.</p>
<p>First we create a new object by copying the existing <code>Herring</code> object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MyStock &lt;-<span class="st"> </span>Herring</code></pre></div>
<p>Then we can modify the parameters so that it better suits our particular species. For example, we may wish to modify the asymptotic size (<code>Linf</code>), the von Bertalanffy <em>K</em> parameter (<code>K</code>), and the length at maturity (<code>L50</code> and <code>L50_95</code>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MyStock@Linf &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">60</span>, <span class="dv">80</span>) 
MyStock@K &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.2</span>, <span class="fl">0.25</span>)
MyStock@L50 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">40</span>)
MyStock@L50_95 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">15</span>)</code></pre></div>
<p>We should also change the <code>Name</code> and <code>Source</code> for our stock:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MyStock@Name &lt;-<span class="st"> &quot;Herringish&quot;</span>
MyStock@Source &lt;-<span class="st"> &quot;None. I made this up&quot;</span></code></pre></div>
<p>You can continue modifying the remaining parameters as required.</p>
<p>The <em>Fleet</em> and <em>Obs</em> objects can be modified in from existing objects in a similar way. First we copy existing objects, and then modify them to suit our needs:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MyFleet &lt;-<span class="st"> </span>FlatE_Dom <span class="co"># Dome-shaped selectivity and flat effort trajectory</span>
MyFleet@L5 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">20</span>) <span class="co"># change the selectivity pattern</span>
MyFleet@LFS &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">25</span>, <span class="dv">30</span>)
MyFleet@isRel &lt;-<span class="st"> &quot;FALSE&quot;</span> <span class="co"># remember to change this</span>

MyObs &lt;-<span class="st"> </span>Imprecise_Unbiased
MyObs@Mcv &lt;-<span class="st"> </span><span class="fl">0.15</span> <span class="co"># increase uncertainty in M</span></code></pre></div>
<p>Here we have modified a few parameters in the <em>Stock</em>, <em>Fleet</em>, and <em>Obs</em> objects and assumed that the rest of the values in built-in objects adequately describe our fishery. We can now create an <em>Operating Model</em> object using the same method described previously:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MyOM &lt;-<span class="st"> </span><span class="kw">new</span>(<span class="st">&quot;OM&quot;</span>, MyStock, MyFleet, MyObs, myImp)</code></pre></div>
</div>
<div id="more-on-customizing-the-operating-model" class="section level2">
<h2><span class="header-section-number">4.8</span> More on Customizing the Operating Model</h2>
<p>In some circumstances there may be knowledge on the changes in fishing practices over the years, and it would be good to include this information in the <em>Operating Model</em>.</p>
<p>The <em>Operating Model</em> can be conditioned with respect to historical trends in the fishing mortality, and historical changes in the selectivity pattern. Remember to update and recompile the OM documentation whenever the OM is modified.</p>
<div id="historical-trends-in-fishing-mortality" class="section level3">
<h3><span class="header-section-number">4.8.1</span> Historical Trends in Fishing Mortality</h3>
<p>Suppose that we know the fishery began in 1950, and fishing effort increased slowly over the next decade, was relatively stable between 1960 and 1970, then increased dramatically over the next 10 years. We also know that, while fishing effort stayed relatively constant from 1980 to around 2000, there has been a general decline in fishing effort in recent years.</p>
<p>This information can be included in the <em>Operating Model</em> by using the <code>ChooseEffort</code> function. The <code>ChooseEffort</code> function takes an existing <em>Fleet</em> object as its first argument, and allows the user to manually map out the range for the historical trend in fishing effort. The <code>ChooseEffort</code> function then returns the updated <em>Fleet</em> object.</p>
<p>A second optional argument can be used to specify the historical years. If used, this will replace the <code>nyears</code> in the <em>Fleet</em> object with the length of the <code>Years</code> vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MyFleet &lt;-<span class="st"> </span><span class="kw">ChooseEffort</span>(MyFleet, <span class="dt">Years=</span><span class="dv">1950</span>:<span class="dv">2016</span>)</code></pre></div>
<p><img src="images/EffortTraj.png" /><!-- --></p>
<p>If we take a look at the <code>MyFleet</code> object, we will see that three slots <code>EffYears</code>, <code>EffLower</code> and <code>EffUpper</code> have been replaced with the new values.</p>
<p>Note that the trajectory that is mapped out here represents the bounds on the relative fishing mortality for each year. In this example, the fishing mortality rate was highest (on average) between 1980 and 2000, and is currently around 65 - 80% of this maximum level.</p>
</div>
<div id="historical-trends-in-the-selectivity-pattern" class="section level3">
<h3><span class="header-section-number">4.8.2</span> Historical Trends in the Selectivity Pattern</h3>
<p>Suppose that we may knew there had been changes in the selectivity pattern of the fishery over time. This information can be included in the <em>Operating Model</em> by using the <code>ChooseSelect</code> function.</p>
<p>Like the <code>ChooseEffort</code> function described above, the <code>ChooseSelection</code> function takes a <em>Fleet</em> objects as it’s first argument, and returns an updated <em>Fleet</em> object.</p>
<p>Suppose the selectivity pattern changed in 1970 and then again in 1990, perhaps because of changes in fishing regulations. These change points in the selectivity curve can be mapped by the following command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MyFleet &lt;-<span class="st"> </span><span class="kw">ChooseSelect</span>(MyFleet, <span class="dt">FstYr=</span><span class="dv">1950</span>, <span class="dt">SelYears=</span><span class="kw">c</span>(<span class="dv">1970</span>, <span class="dv">1990</span>))</code></pre></div>
<p><img src="images/Select.png" /><!-- --></p>
<p>Note that the first year (<code>FstYr</code>) must also be specified, and the selectivity pattern is mapped for this year as well.</p>
<p>When <code>ChooseSelect</code> is used, the <code>L5Lower</code>, <code>L5Upper</code>, <code>LFSLower</code>, <code>LFSUpper</code>, <code>VmaxLower</code>, <code>VmaxUpper</code>, and <code>SelYears</code> slots are updated in the <em>Fleet</em> object. If these slots are populated, the values in the <code>L5</code>, <code>LFS</code>, and <code>Vmaxlen</code> slots are ignored in the operating model.</p>
<!--
Add methods for estimating depletion

Empirical relationships for life history parameters, etc
### Range for current depletion

### Empirical relationships for life history parameters

## More details in Imp object to be added 

-->

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="preq.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="MPs.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["userguide.pdf"],
"toc": {
"collapse": "section"
},
"<!--edit": "https://github.com/DLMtool/DLMtool_UserGuide/edit/master/%s-->"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
